{"version":3,"sources":["webpack:///./node_modules/tesseract.js/src/index.js","webpack:///./node_modules/blueimp-load-image/js/load-image.js","webpack:///./node_modules/blueimp-load-image/js/load-image-meta.js","webpack:///./node_modules/tesseract.js/src/utils/getId.js","webpack:///./node_modules/tesseract.js/src/utils/log.js","webpack:///./node_modules/resolve-url/resolve-url.js","webpack:///./node_modules/tesseract.js/src/createJob.js","webpack:///./node_modules/tesseract.js/src/createWorker.js","webpack:///./node_modules/tesseract.js/src/constants/OEM.js","webpack:///./node_modules/blueimp-load-image/js/load-image-scale.js","webpack:///./node_modules/blueimp-load-image/js/load-image-exif.js","webpack:///./node_modules/blueimp-load-image/js/load-image-iptc.js","webpack:///./node_modules/tesseract.js/node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/tesseract.js/src/createScheduler.js","webpack:///./node_modules/tesseract.js/src/utils/resolvePaths.js","webpack:///./node_modules/tesseract.js/src/utils/getEnvironment.js","webpack:///./node_modules/is-electron/index.js","webpack:///./node_modules/tesseract.js/src/utils/circularize.js","webpack:///./node_modules/tesseract.js/src/constants/config.js","webpack:///./node_modules/tesseract.js/src/worker/browser/index.js","webpack:///./node_modules/tesseract.js/src/worker/browser/defaultOptions.js","webpack:///./node_modules/tesseract.js/src/constants/defaultOptions.js","webpack:///./node_modules/tesseract.js/src/worker/browser/spawnWorker.js","webpack:///./node_modules/tesseract.js/src/worker/browser/terminateWorker.js","webpack:///./node_modules/tesseract.js/src/worker/browser/onMessage.js","webpack:///./node_modules/tesseract.js/src/worker/browser/send.js","webpack:///./node_modules/tesseract.js/src/worker/browser/loadImage.js","webpack:///./node_modules/blueimp-load-image/js/index.js","webpack:///./node_modules/blueimp-load-image/js/load-image-fetch.js","webpack:///./node_modules/blueimp-load-image/js/load-image-exif-map.js","webpack:///./node_modules/blueimp-load-image/js/load-image-iptc-map.js","webpack:///./node_modules/blueimp-load-image/js/load-image-orientation.js","webpack:///./node_modules/tesseract.js/src/Tesseract.js","webpack:///./node_modules/tesseract.js/src/constants/languages.js","webpack:///./node_modules/tesseract.js/src/constants/PSM.js"],"names":["createScheduler","createWorker","Tesseract","languages","OEM","PSM","setLogging","module","exports","$","loadImage","file","callback","options","url","img","document","createElement","fetchBlobCallback","blob","err","console","log","isInstanceOf","createObjectURL","crossOrigin","src","onerror","event","onload","hasMetaOption","fetchBlob","readFile","e","target","result","urlAPI","URL","revokeObjectURL","webkitURL","revokeHelper","slice","noRevoke","meta","type","obj","Object","prototype","toString","call","transform","data","originalWidth","naturalWidth","width","originalHeight","naturalHeight","height","method","FileReader","fileReader","window","this","factory","hasblobSlice","Blob","webkitSlice","mozSlice","blobSlice","apply","arguments","metaDataParsers","jpeg","parseMetaData","that","maxMetaDataSize","DataView","size","error","markerBytes","markerLength","parsers","i","buffer","dataView","offset","maxOffset","byteLength","headLength","getUint16","disableMetaDataParsers","length","disableImageHead","imageHead","Uint8Array","subarray","replaceHead","head","originalTransform","prefix","cnt","Math","random","logging","_logging","args","resolveUrl","numUrls","Error","base","href","getElementsByTagName","insertBefore","firstChild","resolved","a","index","removeChild","getId","jobCounter","id","_id","action","payload","resolvePaths","circularize","createJob","defaultOEM","defaultOptions","spawnWorker","terminateWorker","onMessage","send","workerCounter","_options","logger","errorHandler","resolves","rejects","worker","setResolve","res","setReject","rej","startJob","jobId","Promise","resolve","reject","workerId","status","d","Array","from","keys","userJobId","load","writeText","path","text","readText","encoding","removeFile","FS","loadLanguage","langs","initialize","oem","setParameters","params","recognize","async","image","opts","getPDF","title","textonly","detect","terminate","TESSERACT_ONLY","LSTM_ONLY","TESSERACT_LSTM_COMBINED","DEFAULT","scale","transformCoordinates","getTransformedOptions","newOptions","aspectRatio","hasOwnProperty","crop","maxWidth","maxHeight","renderImageToCanvas","canvas","sourceX","sourceY","sourceWidth","sourceHeight","destX","destY","destWidth","destHeight","ctx","getContext","imageSmoothingEnabled","imageSmoothingQuality","drawImage","hasCanvasOption","minWidth","minHeight","pixelRatio","downsamplingRatio","tmp","useCanvas","scaleUp","max","scaleDown","min","left","top","undefined","right","bottom","contain","cover","style","ExifMap","tagCode","defineProperty","value","privateIFDs","map","tags","getExifThumbnail","Orientation","Thumbnail","Exif","GPSInfo","Interoperability","name","get","ExifTagTypes","getValue","dataOffset","getUint8","String","fromCharCode","ascii","littleEndian","getUint32","getInt32","getExifValue","tiffOffset","tagSize","values","str","c","tagType","parseExifTags","dirOffset","tagOffsets","includeTags","excludeTags","tagsNumber","dirEndOffset","tagOffset","tagNumber","tagValue","parseExifPrivateIFD","exif","exifOffsets","parseExifData","disableExif","includeExifTags","excludeExifTags","disableExifOffsets","exifTiffOffset","exifLittleEndian","disableExifThumbnail","forEach","push","exifWriters","setUint16","writeExifData","IptcMap","getStringValue","outstr","end","n","getTagValue","types","combineTagValues","newValue","parseIptcTags","segmentOffset","segmentLength","segmentEnd","getInt16","iptc","iptcOffsets","isSegmentStart","getHeaderLength","ObjectName","parseIptcData","disableIptc","headerLength","disableIptcOffsets","includeIptcTags","excludeIptcTags","runtime","Op","hasOwn","key","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","GenStateSuspendedStart","GenStateSuspendedYield","GenStateExecuting","GenStateCompleted","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","invoke","record","__await","then","unwrapped","previousPromise","callInvokeWithMethodAndArg","state","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","iter","val","object","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","schedulerCounter","workers","runningWorkers","jobQueue","getNumWorkers","dequeue","wIds","queue","job","w","shift","addWorker","addJob","wid","getQueueLen","resolveURL","s","env","WorkerGlobalScope","isElectron","process","versions","electron","navigator","userAgent","indexOf","page","blocks","paragraphs","lines","words","symbols","block","paragraph","line","word","sym","version","dependencies","workerPath","TESS_ENV","corePath","substring","WebAssembly","langPath","workerBlobURL","Worker","handler","onmessage","packet","postMessage","blueimpLoadImage","readFromBlobOrFile","code","readAsArrayBuffer","fixOrientationFromUrlOrBlobOrFile","toBlob","orientation","endsWith","resp","fetch","arrayBuffer","test","HTMLElement","tagName","poster","File","Request","response","catch","XMLHttpRequest","ProgressEvent","req","open","headers","setRequestHeader","withCredentials","credentials","responseType","onabort","ontimeout","body","ExifMapProto","stringValues","ExposureProgram","MeteringMode","LightSource","Flash","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","ComponentsConfiguration","getText","getAll","prop","getName","privateIFD","subTags","Number","IptcMapProto","b","p","L","P","S","stringValue","originalHasCanvasOption","originalHasMetaOption","originalTransformCoordinates","originalGetTransformedOptions","testImageURL","styleWidth","styleHeight","translate","rotate","PI","finally","AFR","AMH","ARA","ASM","AZE","AZE_CYRL","BEL","BEN","BOD","BOS","BUL","CAT","CEB","CES","CHI_SIM","CHI_TRA","CHR","CYM","DAN","DEU","DZO","ELL","ENG","ENM","EPO","EST","EUS","FAS","FIN","FRA","FRK","FRM","GLE","GLG","GRC","GUJ","HAT","HEB","HIN","HRV","HUN","IKU","IND","ISL","ITA","ITA_OLD","JAV","JPN","KAN","KAT","KAT_OLD","KAZ","KHM","KIR","KOR","KUR","LAO","LAT","LAV","LIT","MAL","MAR","MKD","MLT","MSA","MYA","NEP","NLD","NOR","ORI","PAN","POL","POR","PUS","RON","RUS","SAN","SIN","SLK","SLV","SPA","SPA_OLD","SQI","SRP","SRP_LATN","SWA","SWE","SYR","TAM","TEL","TGK","TGL","THA","TIR","TUR","UIG","UKR","URD","UZB","UZB_CYRL","VIE","YID","OSD_ONLY","AUTO_OSD","AUTO_ONLY","AUTO","SINGLE_COLUMN","SINGLE_BLOCK_VERT_TEXT","SINGLE_BLOCK","SINGLE_LINE","SINGLE_WORD","CIRCLE_WORD","SINGLE_CHAR","SPARSE_TEXT","SPARSE_TEXT_OSD"],"mappings":"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","file":"js/tesseract-110f37112ef42e075a2d.chunk.js","sourcesContent":["/**\n *\n * Entry point for tesseract.js, should be the entry when bundling.\n *\n * @fileoverview entry point for tesseract.js\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nrequire('regenerator-runtime/runtime');\nconst createScheduler = require('./createScheduler');\nconst createWorker = require('./createWorker');\nconst Tesseract = require('./Tesseract');\nconst languages = require('./constants/languages');\nconst OEM = require('./constants/OEM');\nconst PSM = require('./constants/PSM');\nconst { setLogging } = require('./utils/log');\n\nmodule.exports = {\n  languages,\n  OEM,\n  PSM,\n  createScheduler,\n  createWorker,\n  setLogging,\n  ...Tesseract,\n};\n","/*\n * JavaScript Load Image\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, webkitURL, module */\n\n;\n(function ($) {\n  'use strict';\n\n  /**\n   * Loads an image for a given File object.\n   * Invokes the callback with an img or optional canvas element\n   * (if supported by the browser) as parameter:.\n   *\n   * @param {File|Blob|string} file File or Blob object or image URL\n   * @param {Function} [callback] Image load event callback\n   * @param {object} [options] Options object\n   * @returns {HTMLImageElement|HTMLCanvasElement|FileReader} image object\n   */\n  function loadImage(file, callback, options) {\n    var img = document.createElement('img');\n    var url;\n    /**\n     * Callback for the fetchBlob call.\n     *\n     * @param {Blob} blob Blob object\n     * @param {Error} err Error object\n     */\n    function fetchBlobCallback(blob, err) {\n      if (err) console.log(err); // eslint-disable-line no-console\n      if (blob && loadImage.isInstanceOf('Blob', blob)) {\n        // eslint-disable-next-line no-param-reassign\n        file = blob;\n        url = loadImage.createObjectURL(file);\n      } else {\n        url = file;\n        if (options && options.crossOrigin) {\n          img.crossOrigin = options.crossOrigin;\n        }\n      }\n      img.src = url;\n    }\n    img.onerror = function (event) {\n      return loadImage.onerror(img, event, file, url, callback, options);\n    };\n    img.onload = function (event) {\n      return loadImage.onload(img, event, file, url, callback, options);\n    };\n    if (typeof file === 'string') {\n      if (loadImage.hasMetaOption(options)) {\n        loadImage.fetchBlob(file, fetchBlobCallback, options);\n      } else {\n        fetchBlobCallback();\n      }\n      return img;\n    } else if (loadImage.isInstanceOf('Blob', file) ||\n    // Files are also Blob instances, but some browsers\n    // (Firefox 3.6) support the File API but not Blobs:\n    loadImage.isInstanceOf('File', file)) {\n      url = loadImage.createObjectURL(file);\n      if (url) {\n        img.src = url;\n        return img;\n      }\n      return loadImage.readFile(file, function (e) {\n        var target = e.target;\n        if (target && target.result) {\n          img.src = target.result;\n        } else if (callback) {\n          callback(e);\n        }\n      });\n    }\n  }\n  // The check for URL.revokeObjectURL fixes an issue with Opera 12,\n  // which provides URL.createObjectURL but doesn't properly implement it:\n  var urlAPI = $.createObjectURL && $ || $.URL && URL.revokeObjectURL && URL || $.webkitURL && webkitURL;\n\n  /**\n   * Helper function to revoke an object URL\n   *\n   * @param {string} url Blob Object URL\n   * @param {object} [options] Options object\n   */\n  function revokeHelper(url, options) {\n    if (url && url.slice(0, 5) === 'blob:' && !(options && options.noRevoke)) {\n      loadImage.revokeObjectURL(url);\n    }\n  }\n\n  // Determines if meta data should be loaded automatically.\n  // Requires the load image meta extension to load meta data.\n  loadImage.hasMetaOption = function (options) {\n    return options && options.meta;\n  };\n\n  // If the callback given to this function returns a blob, it is used as image\n  // source instead of the original url and overrides the file argument used in\n  // the onload and onerror event callbacks:\n  loadImage.fetchBlob = function (url, callback) {\n    callback();\n  };\n  loadImage.isInstanceOf = function (type, obj) {\n    // Cross-frame instanceof check\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']';\n  };\n  loadImage.transform = function (img, options, callback, file, data) {\n    callback(img, data);\n  };\n  loadImage.onerror = function (img, event, file, url, callback, options) {\n    revokeHelper(url, options);\n    if (callback) {\n      callback.call(img, event);\n    }\n  };\n  loadImage.onload = function (img, event, file, url, callback, options) {\n    revokeHelper(url, options);\n    if (callback) {\n      loadImage.transform(img, options, callback, file, {\n        originalWidth: img.naturalWidth || img.width,\n        originalHeight: img.naturalHeight || img.height\n      });\n    }\n  };\n  loadImage.createObjectURL = function (file) {\n    return urlAPI ? urlAPI.createObjectURL(file) : false;\n  };\n  loadImage.revokeObjectURL = function (url) {\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false;\n  };\n\n  // Loads a given File object via FileReader interface,\n  // invokes the callback with the event object (load or error).\n  // The result can be read via event.target.result:\n  loadImage.readFile = function (file, callback, method) {\n    if ($.FileReader) {\n      var fileReader = new FileReader();\n      fileReader.onload = fileReader.onerror = callback;\n      // eslint-disable-next-line no-param-reassign\n      method = method || 'readAsDataURL';\n      if (fileReader[method]) {\n        fileReader[method](file);\n        return fileReader;\n      }\n    }\n    return false;\n  };\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return loadImage;\n    });\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = loadImage;\n  } else {\n    $.loadImage = loadImage;\n  }\n})(typeof window !== 'undefined' && window || this);","/*\n * JavaScript Load Image Meta\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Image meta data handling implementation\n * based on the help and contribution of\n * Achim Stöhr.\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView, Uint8Array */\n\n;\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'));\n  } else {\n    // Browser globals:\n    factory(window.loadImage);\n  }\n})(function (loadImage) {\n  'use strict';\n\n  var hasblobSlice = typeof Blob !== 'undefined' && (Blob.prototype.slice || Blob.prototype.webkitSlice || Blob.prototype.mozSlice);\n  loadImage.blobSlice = hasblobSlice && function () {\n    var slice = this.slice || this.webkitSlice || this.mozSlice;\n    return slice.apply(this, arguments);\n  };\n  loadImage.metaDataParsers = {\n    jpeg: {\n      0xffe1: [],\n      // APP1 marker\n      0xffed: [] // APP13 marker\n    }\n  };\n\n  // Parses image meta data and calls the callback with an object argument\n  // with the following properties:\n  // * imageHead: The complete image head as ArrayBuffer (Uint8Array for IE10)\n  // The options argument accepts an object and supports the following\n  // properties:\n  // * maxMetaDataSize: Defines the maximum number of bytes to parse.\n  // * disableImageHead: Disables creating the imageHead property.\n  loadImage.parseMetaData = function (file, callback, options, data) {\n    // eslint-disable-next-line no-param-reassign\n    options = options || {};\n    // eslint-disable-next-line no-param-reassign\n    data = data || {};\n    var that = this;\n    // 256 KiB should contain all EXIF/ICC/IPTC segments:\n    var maxMetaDataSize = options.maxMetaDataSize || 262144;\n    var noMetaData = !(typeof DataView !== 'undefined' && file && file.size >= 12 && file.type === 'image/jpeg' && loadImage.blobSlice);\n    if (noMetaData || !loadImage.readFile(loadImage.blobSlice.call(file, 0, maxMetaDataSize), function (e) {\n      if (e.target.error) {\n        // FileReader error\n        // eslint-disable-next-line no-console\n        console.log(e.target.error);\n        callback(data);\n        return;\n      }\n      // Note on endianness:\n      // Since the marker and length bytes in JPEG files are always\n      // stored in big endian order, we can leave the endian parameter\n      // of the DataView methods undefined, defaulting to big endian.\n      var buffer = e.target.result;\n      var dataView = new DataView(buffer);\n      var offset = 2;\n      var maxOffset = dataView.byteLength - 4;\n      var headLength = offset;\n      var markerBytes;\n      var markerLength;\n      var parsers;\n      var i;\n      // Check for the JPEG marker (0xffd8):\n      if (dataView.getUint16(0) === 0xffd8) {\n        while (offset < maxOffset) {\n          markerBytes = dataView.getUint16(offset);\n          // Search for APPn (0xffeN) and COM (0xfffe) markers,\n          // which contain application-specific meta-data like\n          // Exif, ICC and IPTC data and text comments:\n          if (markerBytes >= 0xffe0 && markerBytes <= 0xffef || markerBytes === 0xfffe) {\n            // The marker bytes (2) are always followed by\n            // the length bytes (2), indicating the length of the\n            // marker segment, which includes the length bytes,\n            // but not the marker bytes, so we add 2:\n            markerLength = dataView.getUint16(offset + 2) + 2;\n            if (offset + markerLength > dataView.byteLength) {\n              // eslint-disable-next-line no-console\n              console.log('Invalid meta data: Invalid segment size.');\n              break;\n            }\n            parsers = loadImage.metaDataParsers.jpeg[markerBytes];\n            if (parsers && !options.disableMetaDataParsers) {\n              for (i = 0; i < parsers.length; i += 1) {\n                parsers[i].call(that, dataView, offset, markerLength, data, options);\n              }\n            }\n            offset += markerLength;\n            headLength = offset;\n          } else {\n            // Not an APPn or COM marker, probably safe to\n            // assume that this is the end of the meta data\n            break;\n          }\n        }\n        // Meta length must be longer than JPEG marker (2)\n        // plus APPn marker (2), followed by length bytes (2):\n        if (!options.disableImageHead && headLength > 6) {\n          if (buffer.slice) {\n            data.imageHead = buffer.slice(0, headLength);\n          } else {\n            // Workaround for IE10, which does not yet\n            // support ArrayBuffer.slice:\n            data.imageHead = new Uint8Array(buffer).subarray(0, headLength);\n          }\n        }\n      } else {\n        // eslint-disable-next-line no-console\n        console.log('Invalid JPEG file: Missing JPEG marker.');\n      }\n      callback(data);\n    }, 'readAsArrayBuffer')) {\n      callback(data);\n    }\n  };\n\n  // Replaces the image head of a JPEG blob with the given one.\n  // Calls the callback with the new Blob:\n  loadImage.replaceHead = function (blob, head, callback) {\n    loadImage.parseMetaData(blob, function (data) {\n      callback(new Blob([head, loadImage.blobSlice.call(blob, data.imageHead.byteLength)], {\n        type: 'image/jpeg'\n      }));\n    }, {\n      maxMetaDataSize: 256,\n      disableMetaDataParsers: true\n    });\n  };\n  var originalTransform = loadImage.transform;\n  loadImage.transform = function (img, options, callback, file, data) {\n    if (loadImage.hasMetaOption(options)) {\n      loadImage.parseMetaData(file, function (data) {\n        originalTransform.call(loadImage, img, options, callback, file, data);\n      }, options, data);\n    } else {\n      originalTransform.apply(loadImage, arguments);\n    }\n  };\n});","module.exports = (prefix, cnt) => (\n  `${prefix}-${cnt}-${Math.random().toString(16).slice(3, 8)}`\n);\n","let logging = false;\n\nexports.logging = logging;\n\nexports.setLogging = (_logging) => {\n  logging = _logging;\n};\n\nexports.log = (...args) => (logging ? console.log.apply(this, args) : null);\n","// Copyright 2014 Simon Lydell\n// X11 (“MIT”) Licensed. (See LICENSE.)\n\nvoid function (root, factory) {\n  if (typeof define === \"function\" && define.amd) {\n    define(factory);\n  } else if (typeof exports === \"object\") {\n    module.exports = factory();\n  } else {\n    root.resolveUrl = factory();\n  }\n}(this, function () {\n  function resolveUrl( /* ...urls */\n  ) {\n    var numUrls = arguments.length;\n    if (numUrls === 0) {\n      throw new Error(\"resolveUrl requires at least one argument; got none.\");\n    }\n    var base = document.createElement(\"base\");\n    base.href = arguments[0];\n    if (numUrls === 1) {\n      return base.href;\n    }\n    var head = document.getElementsByTagName(\"head\")[0];\n    head.insertBefore(base, head.firstChild);\n    var a = document.createElement(\"a\");\n    var resolved;\n    for (var index = 1; index < numUrls; index++) {\n      a.href = arguments[index];\n      resolved = a.href;\n      base.href = resolved;\n    }\n    head.removeChild(base);\n    return resolved;\n  }\n  return resolveUrl;\n});","const getId = require('./utils/getId');\n\nlet jobCounter = 0;\n\nmodule.exports = ({\n  id: _id,\n  action,\n  payload = {},\n}) => {\n  let id = _id;\n  if (typeof id === 'undefined') {\n    id = getId('Job', jobCounter);\n    jobCounter += 1;\n  }\n\n  return {\n    id,\n    action,\n    payload,\n  };\n};\n","const resolvePaths = require('./utils/resolvePaths');\nconst circularize = require('./utils/circularize');\nconst createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\nconst { defaultOEM } = require('./constants/config');\nconst {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  loadImage,\n  send,\n} = require('./worker/node');\n\nlet workerCounter = 0;\n\nmodule.exports = (_options = {}) => {\n  const id = getId('Worker', workerCounter);\n  const {\n    logger,\n    errorHandler,\n    ...options\n  } = resolvePaths({\n    ...defaultOptions,\n    ..._options,\n  });\n  const resolves = {};\n  const rejects = {};\n  let worker = spawnWorker(options);\n\n  workerCounter += 1;\n\n  const setResolve = (action, res) => {\n    resolves[action] = res;\n  };\n\n  const setReject = (action, rej) => {\n    rejects[action] = rej;\n  };\n\n  const startJob = ({ id: jobId, action, payload }) => (\n    new Promise((resolve, reject) => {\n      log(`[${id}]: Start ${jobId}, action=${action}`);\n      setResolve(action, resolve);\n      setReject(action, reject);\n      send(worker, {\n        workerId: id,\n        jobId,\n        action,\n        payload,\n      });\n    })\n  );\n\n  const load = (jobId) => (\n    startJob(createJob({\n      id: jobId, action: 'load', payload: { options },\n    }))\n  );\n\n  const writeText = (path, text, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'writeFile', args: [path, text] },\n    }))\n  );\n\n  const readText = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'readFile', args: [path, { encoding: 'utf8' }] },\n    }))\n  );\n\n  const removeFile = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'unlink', args: [path] },\n    }))\n  );\n\n  const FS = (method, args, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method, args },\n    }))\n  );\n\n  const loadLanguage = (langs = 'eng', jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'loadLanguage',\n      payload: { langs, options },\n    }))\n  );\n\n  const initialize = (langs = 'eng', oem = defaultOEM, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'initialize',\n      payload: { langs, oem },\n    }))\n  );\n\n  const setParameters = (params = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'setParameters',\n      payload: { params },\n    }))\n  );\n\n  const recognize = async (image, opts = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'recognize',\n      payload: { image: await loadImage(image), options: opts },\n    }))\n  );\n\n  const getPDF = (title = 'Tesseract OCR Result', textonly = false, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'getPDF',\n      payload: { title, textonly },\n    }))\n  );\n\n  const detect = async (image, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'detect',\n      payload: { image: await loadImage(image) },\n    }))\n  );\n\n  const terminate = async () => {\n    if (worker !== null) {\n      /*\n      await startJob(createJob({\n        id: jobId,\n        action: 'terminate',\n      }));\n      */\n      terminateWorker(worker);\n      worker = null;\n    }\n    return Promise.resolve();\n  };\n\n  onMessage(worker, ({\n    workerId, jobId, status, action, data,\n  }) => {\n    if (status === 'resolve') {\n      log(`[${workerId}]: Complete ${jobId}`);\n      let d = data;\n      if (action === 'recognize') {\n        d = circularize(data);\n      } else if (action === 'getPDF') {\n        d = Array.from({ ...data, length: Object.keys(data).length });\n      }\n      resolves[action]({ jobId, data: d });\n    } else if (status === 'reject') {\n      rejects[action](data);\n      if (errorHandler) {\n        errorHandler(data);\n      } else {\n        throw Error(data);\n      }\n    } else if (status === 'progress') {\n      logger({ ...data, userJobId: jobId });\n    }\n  });\n\n  return {\n    id,\n    worker,\n    setResolve,\n    setReject,\n    load,\n    writeText,\n    readText,\n    removeFile,\n    FS,\n    loadLanguage,\n    initialize,\n    setParameters,\n    recognize,\n    getPDF,\n    detect,\n    terminate,\n  };\n};\n","/*\n * OEM = OCR Engine Mode, and there are 4 possible modes.\n *\n * By default tesseract.js uses LSTM_ONLY mode.\n *\n */\nmodule.exports = {\n  TESSERACT_ONLY: 0,\n  LSTM_ONLY: 1,\n  TESSERACT_LSTM_COMBINED: 2,\n  DEFAULT: 3,\n};\n","/*\n * JavaScript Load Image Scaling\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'));\n  } else {\n    // Browser globals:\n    factory(window.loadImage);\n  }\n})(function (loadImage) {\n  'use strict';\n\n  var originalTransform = loadImage.transform;\n  loadImage.transform = function (img, options, callback, file, data) {\n    originalTransform.call(loadImage, loadImage.scale(img, options, data), options, callback, file, data);\n  };\n\n  // Transform image coordinates, allows to override e.g.\n  // the canvas orientation based on the orientation option,\n  // gets canvas, options passed as arguments:\n  loadImage.transformCoordinates = function () {};\n\n  // Returns transformed options, allows to override e.g.\n  // maxWidth, maxHeight and crop options based on the aspectRatio.\n  // gets img, options passed as arguments:\n  loadImage.getTransformedOptions = function (img, options) {\n    var aspectRatio = options.aspectRatio;\n    var newOptions;\n    var i;\n    var width;\n    var height;\n    if (!aspectRatio) {\n      return options;\n    }\n    newOptions = {};\n    for (i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i];\n      }\n    }\n    newOptions.crop = true;\n    width = img.naturalWidth || img.width;\n    height = img.naturalHeight || img.height;\n    if (width / height > aspectRatio) {\n      newOptions.maxWidth = height * aspectRatio;\n      newOptions.maxHeight = height;\n    } else {\n      newOptions.maxWidth = width;\n      newOptions.maxHeight = width / aspectRatio;\n    }\n    return newOptions;\n  };\n\n  // Canvas render method, allows to implement a different rendering algorithm:\n  loadImage.renderImageToCanvas = function (canvas, img, sourceX, sourceY, sourceWidth, sourceHeight, destX, destY, destWidth, destHeight, options) {\n    var ctx = canvas.getContext('2d');\n    if (options.imageSmoothingEnabled === false) {\n      ctx.imageSmoothingEnabled = false;\n    } else if (options.imageSmoothingQuality) {\n      ctx.imageSmoothingQuality = options.imageSmoothingQuality;\n    }\n    ctx.drawImage(img, sourceX, sourceY, sourceWidth, sourceHeight, destX, destY, destWidth, destHeight);\n    return canvas;\n  };\n\n  // Determines if the target image should be a canvas element:\n  loadImage.hasCanvasOption = function (options) {\n    return options.canvas || options.crop || !!options.aspectRatio;\n  };\n\n  // Scales and/or crops the given image (img or canvas HTML element)\n  // using the given options.\n  // Returns a canvas object if the browser supports canvas\n  // and the hasCanvasOption method returns true or a canvas\n  // object is passed as image, else the scaled image:\n  loadImage.scale = function (img, options, data) {\n    // eslint-disable-next-line no-param-reassign\n    options = options || {};\n    var canvas = document.createElement('canvas');\n    var useCanvas = img.getContext || loadImage.hasCanvasOption(options) && canvas.getContext;\n    var width = img.naturalWidth || img.width;\n    var height = img.naturalHeight || img.height;\n    var destWidth = width;\n    var destHeight = height;\n    var maxWidth;\n    var maxHeight;\n    var minWidth;\n    var minHeight;\n    var sourceWidth;\n    var sourceHeight;\n    var sourceX;\n    var sourceY;\n    var pixelRatio;\n    var downsamplingRatio;\n    var tmp;\n    /**\n     * Scales up image dimensions\n     */\n    function scaleUp() {\n      var scale = Math.max((minWidth || destWidth) / destWidth, (minHeight || destHeight) / destHeight);\n      if (scale > 1) {\n        destWidth *= scale;\n        destHeight *= scale;\n      }\n    }\n    /**\n     * Scales down image dimensions\n     */\n    function scaleDown() {\n      var scale = Math.min((maxWidth || destWidth) / destWidth, (maxHeight || destHeight) / destHeight);\n      if (scale < 1) {\n        destWidth *= scale;\n        destHeight *= scale;\n      }\n    }\n    if (useCanvas) {\n      // eslint-disable-next-line no-param-reassign\n      options = loadImage.getTransformedOptions(img, options, data);\n      sourceX = options.left || 0;\n      sourceY = options.top || 0;\n      if (options.sourceWidth) {\n        sourceWidth = options.sourceWidth;\n        if (options.right !== undefined && options.left === undefined) {\n          sourceX = width - sourceWidth - options.right;\n        }\n      } else {\n        sourceWidth = width - sourceX - (options.right || 0);\n      }\n      if (options.sourceHeight) {\n        sourceHeight = options.sourceHeight;\n        if (options.bottom !== undefined && options.top === undefined) {\n          sourceY = height - sourceHeight - options.bottom;\n        }\n      } else {\n        sourceHeight = height - sourceY - (options.bottom || 0);\n      }\n      destWidth = sourceWidth;\n      destHeight = sourceHeight;\n    }\n    maxWidth = options.maxWidth;\n    maxHeight = options.maxHeight;\n    minWidth = options.minWidth;\n    minHeight = options.minHeight;\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\n      destWidth = maxWidth;\n      destHeight = maxHeight;\n      tmp = sourceWidth / sourceHeight - maxWidth / maxHeight;\n      if (tmp < 0) {\n        sourceHeight = maxHeight * sourceWidth / maxWidth;\n        if (options.top === undefined && options.bottom === undefined) {\n          sourceY = (height - sourceHeight) / 2;\n        }\n      } else if (tmp > 0) {\n        sourceWidth = maxWidth * sourceHeight / maxHeight;\n        if (options.left === undefined && options.right === undefined) {\n          sourceX = (width - sourceWidth) / 2;\n        }\n      }\n    } else {\n      if (options.contain || options.cover) {\n        minWidth = maxWidth = maxWidth || minWidth;\n        minHeight = maxHeight = maxHeight || minHeight;\n      }\n      if (options.cover) {\n        scaleDown();\n        scaleUp();\n      } else {\n        scaleUp();\n        scaleDown();\n      }\n    }\n    if (useCanvas) {\n      pixelRatio = options.pixelRatio;\n      if (pixelRatio > 1) {\n        canvas.style.width = destWidth + 'px';\n        canvas.style.height = destHeight + 'px';\n        destWidth *= pixelRatio;\n        destHeight *= pixelRatio;\n        canvas.getContext('2d').scale(pixelRatio, pixelRatio);\n      }\n      downsamplingRatio = options.downsamplingRatio;\n      if (downsamplingRatio > 0 && downsamplingRatio < 1 && destWidth < sourceWidth && destHeight < sourceHeight) {\n        while (sourceWidth * downsamplingRatio > destWidth) {\n          canvas.width = sourceWidth * downsamplingRatio;\n          canvas.height = sourceHeight * downsamplingRatio;\n          loadImage.renderImageToCanvas(canvas, img, sourceX, sourceY, sourceWidth, sourceHeight, 0, 0, canvas.width, canvas.height, options);\n          sourceX = 0;\n          sourceY = 0;\n          sourceWidth = canvas.width;\n          sourceHeight = canvas.height;\n          // eslint-disable-next-line no-param-reassign\n          img = document.createElement('canvas');\n          img.width = sourceWidth;\n          img.height = sourceHeight;\n          loadImage.renderImageToCanvas(img, canvas, 0, 0, sourceWidth, sourceHeight, 0, 0, sourceWidth, sourceHeight, options);\n        }\n      }\n      canvas.width = destWidth;\n      canvas.height = destHeight;\n      loadImage.transformCoordinates(canvas, options);\n      return loadImage.renderImageToCanvas(canvas, img, sourceX, sourceY, sourceWidth, sourceHeight, 0, 0, destWidth, destHeight, options);\n    }\n    img.width = destWidth;\n    img.height = destHeight;\n    return img;\n  };\n});","/*\n * JavaScript Load Image Exif Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n/* eslint-disable no-console */\n\n;\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'));\n  } else {\n    // Browser globals:\n    factory(window.loadImage);\n  }\n})(function (loadImage) {\n  'use strict';\n\n  /**\n   * Exif tag map\n   *\n   * @name ExifMap\n   * @class\n   * @param {number} tagCode Private IFD tag code\n   */\n  function ExifMap(tagCode) {\n    if (tagCode) {\n      Object.defineProperty(this, 'map', {\n        value: this.privateIFDs[tagCode].map\n      });\n      Object.defineProperty(this, 'tags', {\n        value: this.tags && this.tags[tagCode] || {}\n      });\n    }\n  }\n  ExifMap.prototype.map = {\n    Orientation: 0x0112,\n    Thumbnail: 0x0201,\n    Exif: 0x8769,\n    GPSInfo: 0x8825,\n    Interoperability: 0xa005\n  };\n  ExifMap.prototype.privateIFDs = {\n    0x8769: {\n      name: 'Exif',\n      map: {}\n    },\n    0x8825: {\n      name: 'GPSInfo',\n      map: {}\n    },\n    0xa005: {\n      name: 'Interoperability',\n      map: {}\n    }\n  };\n\n  /**\n   * Retrieves exif tag value\n   *\n   * @param {number|string} id Exif tag code or name\n   * @returns {object} Exif tag value\n   */\n  ExifMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]];\n  };\n\n  /**\n   * Returns the Exif Thumbnail data as Blob.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Thumbnail data offset\n   * @param {number} length Thumbnail data length\n   * @returns {undefined|Blob} Returns the Thumbnail Blob or undefined\n   */\n  function getExifThumbnail(dataView, offset, length) {\n    if (!length || offset + length > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid thumbnail data.');\n      return;\n    }\n    return new Blob([dataView.buffer.slice(offset, offset + length)], {\n      type: 'image/jpeg'\n    });\n  }\n  var ExifTagTypes = {\n    // byte, 8-bit unsigned int:\n    1: {\n      getValue: function (dataView, dataOffset) {\n        return dataView.getUint8(dataOffset);\n      },\n      size: 1\n    },\n    // ascii, 8-bit byte:\n    2: {\n      getValue: function (dataView, dataOffset) {\n        return String.fromCharCode(dataView.getUint8(dataOffset));\n      },\n      size: 1,\n      ascii: true\n    },\n    // short, 16 bit int:\n    3: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint16(dataOffset, littleEndian);\n      },\n      size: 2\n    },\n    // long, 32 bit int:\n    4: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint32(dataOffset, littleEndian);\n      },\n      size: 4\n    },\n    // rational = two long values, first is numerator, second is denominator:\n    5: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint32(dataOffset, littleEndian) / dataView.getUint32(dataOffset + 4, littleEndian);\n      },\n      size: 8\n    },\n    // slong, 32 bit signed int:\n    9: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getInt32(dataOffset, littleEndian);\n      },\n      size: 4\n    },\n    // srational, two slongs, first is numerator, second is denominator:\n    10: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getInt32(dataOffset, littleEndian) / dataView.getInt32(dataOffset + 4, littleEndian);\n      },\n      size: 8\n    }\n  };\n  // undefined, 8-bit byte, value depending on field:\n  ExifTagTypes[7] = ExifTagTypes[1];\n\n  /**\n   * Returns Exif tag value.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} offset Tag offset\n   * @param {number} type Tag type\n   * @param {number} length Tag length\n   * @param {boolean} littleEndian Little endian encoding\n   * @returns {object} Tag value\n   */\n  function getExifValue(dataView, tiffOffset, offset, type, length, littleEndian) {\n    var tagType = ExifTagTypes[type];\n    var tagSize;\n    var dataOffset;\n    var values;\n    var i;\n    var str;\n    var c;\n    if (!tagType) {\n      console.log('Invalid Exif data: Invalid tag type.');\n      return;\n    }\n    tagSize = tagType.size * length;\n    // Determine if the value is contained in the dataOffset bytes,\n    // or if the value at the dataOffset is a pointer to the actual data:\n    dataOffset = tagSize > 4 ? tiffOffset + dataView.getUint32(offset + 8, littleEndian) : offset + 8;\n    if (dataOffset + tagSize > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid data offset.');\n      return;\n    }\n    if (length === 1) {\n      return tagType.getValue(dataView, dataOffset, littleEndian);\n    }\n    values = [];\n    for (i = 0; i < length; i += 1) {\n      values[i] = tagType.getValue(dataView, dataOffset + i * tagType.size, littleEndian);\n    }\n    if (tagType.ascii) {\n      str = '';\n      // Concatenate the chars:\n      for (i = 0; i < values.length; i += 1) {\n        c = values[i];\n        // Ignore the terminating NULL byte(s):\n        if (c === '\\u0000') {\n          break;\n        }\n        str += c;\n      }\n      return str;\n    }\n    return values;\n  }\n\n  /**\n   * Parses Exif tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} dirOffset Directory offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {ExifMap} tags Map to store parsed exif tags\n   * @param {ExifMap} tagOffsets Map to store parsed exif tag offsets\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   * @returns {number} Next directory offset\n   */\n  function parseExifTags(dataView, tiffOffset, dirOffset, littleEndian, tags, tagOffsets, includeTags, excludeTags) {\n    var tagsNumber, dirEndOffset, i, tagOffset, tagNumber, tagValue;\n    if (dirOffset + 6 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory offset.');\n      return;\n    }\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian);\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber;\n    if (dirEndOffset + 4 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory size.');\n      return;\n    }\n    for (i = 0; i < tagsNumber; i += 1) {\n      tagOffset = dirOffset + 2 + 12 * i;\n      tagNumber = dataView.getUint16(tagOffset, littleEndian);\n      if (includeTags && !includeTags[tagNumber]) continue;\n      if (excludeTags && excludeTags[tagNumber] === true) continue;\n      tagValue = getExifValue(dataView, tiffOffset, tagOffset, dataView.getUint16(tagOffset + 2, littleEndian),\n      // tag type\n      dataView.getUint32(tagOffset + 4, littleEndian),\n      // tag length\n      littleEndian);\n      tags[tagNumber] = tagValue;\n      if (tagOffsets) {\n        tagOffsets[tagNumber] = tagOffset;\n      }\n    }\n    // Return the offset to the next directory:\n    return dataView.getUint32(dirEndOffset, littleEndian);\n  }\n\n  /**\n   * Parses Private IFD tags.\n   *\n   * @param {object} data Data object to store exif tags and offsets\n   * @param {number} tagCode Private IFD tag code\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseExifPrivateIFD(data, tagCode, dataView, tiffOffset, littleEndian, includeTags, excludeTags) {\n    var dirOffset = data.exif[tagCode];\n    if (dirOffset) {\n      data.exif[tagCode] = new ExifMap(tagCode);\n      if (data.exifOffsets) {\n        data.exifOffsets[tagCode] = new ExifMap(tagCode);\n      }\n      parseExifTags(dataView, tiffOffset, tiffOffset + dirOffset, littleEndian, data.exif[tagCode], data.exifOffsets && data.exifOffsets[tagCode], includeTags && includeTags[tagCode], excludeTags && excludeTags[tagCode]);\n    }\n  }\n  loadImage.parseExifData = function (dataView, offset, length, data, options) {\n    if (options.disableExif) {\n      return;\n    }\n    var includeTags = options.includeExifTags;\n    var excludeTags = options.excludeExifTags || {\n      0x8769: {\n        // ExifIFDPointer\n        0x927c: true // MakerNote\n      }\n    };\n\n    var tiffOffset = offset + 10;\n    var littleEndian;\n    var dirOffset;\n    var privateIFDs;\n    // Check for the ASCII code for \"Exif\" (0x45786966):\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\n      // No Exif data, might be XMP data instead\n      return;\n    }\n    if (tiffOffset + 8 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid segment size.');\n      return;\n    }\n    // Check for the two null bytes:\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\n      console.log('Invalid Exif data: Missing byte alignment offset.');\n      return;\n    }\n    // Check the byte alignment:\n    switch (dataView.getUint16(tiffOffset)) {\n      case 0x4949:\n        littleEndian = true;\n        break;\n      case 0x4d4d:\n        littleEndian = false;\n        break;\n      default:\n        console.log('Invalid Exif data: Invalid byte alignment marker.');\n        return;\n    }\n    // Check for the TIFF tag marker (0x002A):\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002a) {\n      console.log('Invalid Exif data: Missing TIFF marker.');\n      return;\n    }\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian);\n    // Create the exif object to store the tags:\n    data.exif = new ExifMap();\n    if (!options.disableExifOffsets) {\n      data.exifOffsets = new ExifMap();\n      data.exifTiffOffset = tiffOffset;\n      data.exifLittleEndian = littleEndian;\n    }\n    // Parse the tags of the main image directory and retrieve the\n    // offset to the next directory, usually the thumbnail directory:\n    dirOffset = parseExifTags(dataView, tiffOffset, tiffOffset + dirOffset, littleEndian, data.exif, data.exifOffsets, includeTags, excludeTags);\n    if (dirOffset && !options.disableExifThumbnail) {\n      dirOffset = parseExifTags(dataView, tiffOffset, tiffOffset + dirOffset, littleEndian, data.exif, data.exifOffsets, includeTags, excludeTags);\n      // Check for JPEG Thumbnail offset:\n      if (data.exif[0x0201] && data.exif[0x0202]) {\n        data.exif[0x0201] = getExifThumbnail(dataView, tiffOffset + data.exif[0x0201], data.exif[0x0202] // Thumbnail data length\n        );\n      }\n    }\n\n    privateIFDs = Object.keys(data.exif.privateIFDs);\n    privateIFDs.forEach(function (tagCode) {\n      parseExifPrivateIFD(data, tagCode, dataView, tiffOffset, littleEndian, includeTags, excludeTags);\n    });\n  };\n\n  // Registers the Exif parser for the APP1 JPEG meta data segment:\n  loadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData);\n  loadImage.exifWriters = {\n    // Orientation writer:\n    0x0112: function (buffer, data, value) {\n      var view = new DataView(buffer, data.exifOffsets[0x0112] + 8, 2);\n      view.setUint16(0, value, data.exifLittleEndian);\n      return buffer;\n    }\n  };\n  loadImage.writeExifData = function (buffer, data, id, value) {\n    loadImage.exifWriters[data.exif.map[id]](buffer, data, value);\n  };\n  loadImage.ExifMap = ExifMap;\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - exif: The parsed Exif tags\n  // - exifOffsets: The parsed Exif tag offsets\n  // - exifTiffOffset: TIFF header offset (used for offset pointers)\n  // - exifLittleEndian: little endian order if true, big endian if false\n\n  // Adds the following options to the parseMetaData method:\n  // - disableExif: Disables Exif parsing when true.\n  // - disableExifThumbnail: Disables parsing of Thumbnail data when true.\n  // - disableExifOffsets: Disables storing Exif tag offsets when true.\n  // - includeExifTags: A map of Exif tags to include for parsing.\n  // - excludeExifTags: A map of Exif tags to exclude from parsing.\n});","/*\n * JavaScript Load Image IPTC Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n;\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'));\n  } else {\n    // Browser globals:\n    factory(window.loadImage);\n  }\n})(function (loadImage) {\n  'use strict';\n\n  /**\n   * IPTC tag map\n   *\n   * @name IptcMap\n   * @class\n   */\n  function IptcMap() {}\n  IptcMap.prototype.map = {\n    ObjectName: 5\n  };\n  IptcMap.prototype.types = {\n    0: 'Uint16',\n    // ApplicationRecordVersion\n    200: 'Uint16',\n    // ObjectPreviewFileFormat\n    201: 'Uint16',\n    // ObjectPreviewFileVersion\n    202: 'binary' // ObjectPreviewData\n  };\n\n  /**\n   * Retrieves IPTC tag value\n   *\n   * @param {number|string} id IPTC tag code or name\n   * @returns {object} IPTC tag value\n   */\n  IptcMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]];\n  };\n\n  /**\n   * Retrieves string for the given DataView and range\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Offset start\n   * @param {number} length Offset length\n   * @returns {string} String value\n   */\n  function getStringValue(dataView, offset, length) {\n    var outstr = '';\n    var end = offset + length;\n    for (var n = offset; n < end; n += 1) {\n      outstr += String.fromCharCode(dataView.getUint8(n));\n    }\n    return outstr;\n  }\n\n  /**\n   * Retrieves tag value for the given DataView and range\n   *\n   * @param {number} tagCode Private IFD tag code\n   * @param {IptcMap} map IPTC tag map\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Range start\n   * @param {number} length Range length\n   * @returns {object} Tag value\n   */\n  function getTagValue(tagCode, map, dataView, offset, length) {\n    if (map.types[tagCode] === 'binary') {\n      return new Blob([dataView.buffer.slice(offset, offset + length)]);\n    }\n    if (map.types[tagCode] === 'Uint16') {\n      return dataView.getUint16(offset);\n    }\n    return getStringValue(dataView, offset, length);\n  }\n\n  /**\n   * Combines IPTC value with existing ones.\n   *\n   * @param {object} value Existing IPTC field value\n   * @param {object} newValue New IPTC field value\n   * @returns {object} Resulting IPTC field value\n   */\n  function combineTagValues(value, newValue) {\n    if (value === undefined) return newValue;\n    if (value instanceof Array) {\n      value.push(newValue);\n      return value;\n    }\n    return [value, newValue];\n  }\n\n  /**\n   * Parses IPTC tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} segmentOffset Segment offset\n   * @param {number} segmentLength Segment length\n   * @param {object} data Data export object\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseIptcTags(dataView, segmentOffset, segmentLength, data, includeTags, excludeTags) {\n    var value, tagSize, tagCode;\n    var segmentEnd = segmentOffset + segmentLength;\n    var offset = segmentOffset;\n    while (offset < segmentEnd) {\n      if (dataView.getUint8(offset) === 0x1c &&\n      // tag marker\n      dataView.getUint8(offset + 1) === 0x02 // record number, only handles v2\n      ) {\n        tagCode = dataView.getUint8(offset + 2);\n        if ((!includeTags || includeTags[tagCode]) && (!excludeTags || !excludeTags[tagCode])) {\n          tagSize = dataView.getInt16(offset + 3);\n          value = getTagValue(tagCode, data.iptc, dataView, offset + 5, tagSize);\n          data.iptc[tagCode] = combineTagValues(data.iptc[tagCode], value);\n          if (data.iptcOffsets) {\n            data.iptcOffsets[tagCode] = offset;\n          }\n        }\n      }\n      offset += 1;\n    }\n  }\n\n  /**\n   * Tests if field segment starts at offset.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {boolean} True if '8BIM<EOT><EOT>' exists at offset\n   */\n  function isSegmentStart(dataView, offset) {\n    return dataView.getUint32(offset) === 0x3842494d &&\n    // Photoshop segment start\n    dataView.getUint16(offset + 4) === 0x0404 // IPTC segment start\n    ;\n  }\n\n  /**\n   * Returns header length.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {number} Header length\n   */\n  function getHeaderLength(dataView, offset) {\n    var length = dataView.getUint8(offset + 7);\n    if (length % 2 !== 0) length += 1;\n    // Check for pre photoshop 6 format\n    if (length === 0) {\n      // Always 4\n      length = 4;\n    }\n    return length;\n  }\n  loadImage.parseIptcData = function (dataView, offset, length, data, options) {\n    if (options.disableIptc) {\n      return;\n    }\n    var markerLength = offset + length;\n    while (offset + 8 < markerLength) {\n      if (isSegmentStart(dataView, offset)) {\n        var headerLength = getHeaderLength(dataView, offset);\n        var segmentOffset = offset + 8 + headerLength;\n        if (segmentOffset > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment offset.');\n          break;\n        }\n        var segmentLength = dataView.getUint16(offset + 6 + headerLength);\n        if (offset + segmentLength > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment size.');\n          break;\n        }\n        // Create the iptc object to store the tags:\n        data.iptc = new IptcMap();\n        if (!options.disableIptcOffsets) {\n          data.iptcOffsets = new IptcMap();\n        }\n        parseIptcTags(dataView, segmentOffset, segmentLength, data, options.includeIptcTags, options.excludeIptcTags || {\n          202: true\n        } // ObjectPreviewData\n        );\n\n        return;\n      }\n      // eslint-disable-next-line no-param-reassign\n      offset += 1;\n    }\n  };\n\n  // Registers this IPTC parser for the APP13 JPEG meta data segment:\n  loadImage.metaDataParsers.jpeg[0xffed].push(loadImage.parseIptcData);\n  loadImage.IptcMap = IptcMap;\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - iptc: The iptc tags, parsed by the parseIptcData method\n\n  // Adds the following options to the parseMetaData method:\n  // - disableIptc: Disables IPTC parsing when true.\n  // - disableIptcOffsets: Disables storing IPTC tag offsets when true.\n  // - includeIptcTags: A map of IPTC tags to include for parsing.\n  // - excludeIptcTags: A map of IPTC tags to exclude from parsing.\n});","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; };\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) });\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: true });\n  defineProperty(\n    GeneratorFunctionPrototype,\n    \"constructor\",\n    { value: GeneratorFunction, configurable: true }\n  );\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    defineProperty(this, \"_invoke\", { value: enqueue });\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method;\n    var method = delegate.iterator[methodName];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method, or a missing .next mehtod, always terminate the\n      // yield* loop.\n      context.delegate = null;\n\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (methodName === \"throw\" && delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n      if (methodName !== \"return\") {\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a '\" + methodName + \"' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(val) {\n    var object = Object(val);\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","const createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\n\nlet schedulerCounter = 0;\n\nmodule.exports = () => {\n  const id = getId('Scheduler', schedulerCounter);\n  const workers = {};\n  const runningWorkers = {};\n  let jobQueue = [];\n\n  schedulerCounter += 1;\n\n  const getQueueLen = () => jobQueue.length;\n  const getNumWorkers = () => Object.keys(workers).length;\n\n  const dequeue = () => {\n    if (jobQueue.length !== 0) {\n      const wIds = Object.keys(workers);\n      for (let i = 0; i < wIds.length; i += 1) {\n        if (typeof runningWorkers[wIds[i]] === 'undefined') {\n          jobQueue[0](workers[wIds[i]]);\n          break;\n        }\n      }\n    }\n  };\n\n  const queue = (action, payload) => (\n    new Promise((resolve, reject) => {\n      const job = createJob({ action, payload });\n      jobQueue.push(async (w) => {\n        jobQueue.shift();\n        runningWorkers[w.id] = job;\n        try {\n          resolve(await w[action].apply(this, [...payload, job.id]));\n        } catch (err) {\n          reject(err);\n        } finally {\n          delete runningWorkers[w.id];\n          dequeue();\n        }\n      });\n      log(`[${id}]: Add ${job.id} to JobQueue`);\n      log(`[${id}]: JobQueue length=${jobQueue.length}`);\n      dequeue();\n    })\n  );\n\n  const addWorker = (w) => {\n    workers[w.id] = w;\n    log(`[${id}]: Add ${w.id}`);\n    log(`[${id}]: Number of workers=${getNumWorkers()}`);\n    dequeue();\n    return w.id;\n  };\n\n  const addJob = async (action, ...payload) => {\n    if (getNumWorkers() === 0) {\n      throw Error(`[${id}]: You need to have at least one worker before adding jobs`);\n    }\n    return queue(action, payload);\n  };\n\n  const terminate = async () => {\n    Object.keys(workers).forEach(async (wid) => {\n      await workers[wid].terminate();\n    });\n    jobQueue = [];\n  };\n\n  return {\n    addWorker,\n    addJob,\n    terminate,\n    getQueueLen,\n    getNumWorkers,\n  };\n};\n","const isBrowser = require('./getEnvironment')('type') === 'browser';\nconst resolveURL = isBrowser ? require('resolve-url') : s => s; // eslint-disable-line\n\nmodule.exports = (options) => {\n  const opts = { ...options };\n  ['corePath', 'workerPath', 'langPath'].forEach((key) => {\n    if (typeof options[key] !== 'undefined') {\n      opts[key] = resolveURL(opts[key]);\n    }\n  });\n  return opts;\n};\n","const isElectron = require('is-electron');\n\nmodule.exports = (key) => {\n  const env = {};\n\n  if (typeof WorkerGlobalScope !== 'undefined') {\n    env.type = 'webworker';\n  } else if (isElectron()) {\n    env.type = 'electron';\n  } else if (typeof window === 'object') {\n    env.type = 'browser';\n  } else if (typeof process === 'object' && typeof require === 'function') {\n    env.type = 'node';\n  }\n\n  if (typeof key === 'undefined') {\n    return env;\n  }\n\n  return env[key];\n};\n","// https://github.com/electron/electron/issues/2288\nfunction isElectron() {\n  // Renderer process\n  if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n    return true;\n  }\n\n  // Main process\n  if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\n    return true;\n  }\n\n  // Detect the user agent when the `nodeIntegration` option is set to false\n  if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\n    return true;\n  }\n  return false;\n}\nmodule.exports = isElectron;","/**\n * In the recognition result of tesseract, there\n * is a deep JSON object for details, it has around\n *\n * The result of dump.js is a big JSON tree\n * which can be easily serialized (for instance\n * to be sent from a webworker to the main app\n * or through Node's IPC), but we want\n * a (circular) DOM-like interface for walking\n * through the data.\n *\n * @fileoverview DOM-like interface for walking through data\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\n\nmodule.exports = (page) => {\n  const blocks = [];\n  const paragraphs = [];\n  const lines = [];\n  const words = [];\n  const symbols = [];\n\n  page.blocks.forEach((block) => {\n    block.paragraphs.forEach((paragraph) => {\n      paragraph.lines.forEach((line) => {\n        line.words.forEach((word) => {\n          word.symbols.forEach((sym) => {\n            symbols.push({\n              ...sym, page, block, paragraph, line, word,\n            });\n          });\n          words.push({\n            ...word, page, block, paragraph, line,\n          });\n        });\n        lines.push({\n          ...line, page, block, paragraph,\n        });\n      });\n      paragraphs.push({\n        ...paragraph, page, block,\n      });\n    });\n    blocks.push({\n      ...block, page,\n    });\n  });\n\n  return {\n    ...page, blocks, paragraphs, lines, words, symbols,\n  };\n};\n","const OEM = require('./OEM');\n\nmodule.exports = {\n  defaultOEM: OEM.DEFAULT,\n};\n","/**\n *\n * Tesseract Worker adapter for browser\n *\n * @fileoverview Tesseract Worker adapter for browser\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nconst defaultOptions = require('./defaultOptions');\nconst spawnWorker = require('./spawnWorker');\nconst terminateWorker = require('./terminateWorker');\nconst onMessage = require('./onMessage');\nconst send = require('./send');\nconst loadImage = require('./loadImage');\n\nmodule.exports = {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  send,\n  loadImage,\n};\n","const resolveURL = require('resolve-url');\nconst { version, dependencies } = require('../../../package.json');\nconst defaultOptions = require('../../constants/defaultOptions');\n\n/*\n * Default options for browser worker\n */\nmodule.exports = {\n  ...defaultOptions,\n  workerPath: (typeof process !== 'undefined' && process.env.TESS_ENV === 'development')\n    ? resolveURL(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`)\n    : `https://unpkg.com/tesseract.js@v${version}/dist/worker.min.js`,\n  /*\n   * If browser doesn't support WebAssembly,\n   * load ASM version instead\n   */\n  corePath: `https://unpkg.com/tesseract.js-core@v${dependencies['tesseract.js-core'].substring(1)}/tesseract-core.${typeof WebAssembly === 'object' ? 'wasm' : 'asm'}.js`,\n};\n","module.exports = {\n  /*\n   * default path for downloading *.traineddata\n   */\n  langPath: 'https://tessdata.projectnaptha.com/4.0.0',\n  /*\n   * Use BlobURL for worker script by default\n   * TODO: remove this option\n   *\n   */\n  workerBlobURL: true,\n  logger: () => {},\n};\n","/**\n * spawnWorker\n *\n * @name spawnWorker\n * @function create a new Worker in browser\n * @access public\n */\nmodule.exports = ({ workerPath, workerBlobURL }) => {\n  let worker;\n  if (Blob && URL && workerBlobURL) {\n    const blob = new Blob([`importScripts(\"${workerPath}\");`], {\n      type: 'application/javascript',\n    });\n    worker = new Worker(URL.createObjectURL(blob));\n  } else {\n    worker = new Worker(workerPath);\n  }\n\n  return worker;\n};\n","/**\n * terminateWorker\n *\n * @name terminateWorker\n * @function terminate worker\n * @access public\n */\nmodule.exports = (worker) => {\n  worker.terminate();\n};\n","module.exports = (worker, handler) => {\n  worker.onmessage = ({ data }) => { // eslint-disable-line\n    handler(data);\n  };\n};\n","/**\n * send\n *\n * @name send\n * @function send packet to worker and create a job\n * @access public\n */\nmodule.exports = async (worker, packet) => {\n  worker.postMessage(packet);\n};\n","const resolveURL = require('resolve-url');\nconst blueimpLoadImage = require('blueimp-load-image');\n\n/**\n * readFromBlobOrFile\n *\n * @name readFromBlobOrFile\n * @function\n * @access private\n */\nconst readFromBlobOrFile = (blob) => (\n  new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      resolve(fileReader.result);\n    };\n    fileReader.onerror = ({ target: { error: { code } } }) => {\n      reject(Error(`File could not be read! Code=${code}`));\n    };\n    fileReader.readAsArrayBuffer(blob);\n  })\n);\n\nconst fixOrientationFromUrlOrBlobOrFile = (blob) => (\n  new Promise((resolve) => {\n    blueimpLoadImage(\n      blob,\n      (img) => img.toBlob(resolve),\n      {\n        orientation: true,\n        canvas: true,\n      },\n    );\n  })\n);\n\n/**\n * loadImage\n *\n * @name loadImage\n * @function load image from different source\n * @access private\n */\nconst loadImage = async (image) => {\n  let data = image;\n  if (typeof image === 'undefined') {\n    return 'undefined';\n  }\n\n  if (typeof image === 'string') {\n    if (image.endsWith('.pbm')) {\n      const resp = await fetch(resolveURL(image));\n      data = await resp.arrayBuffer();\n    } else {\n      let img = image;\n      // If not Base64 Image\n      if (!/data:image\\/([a-zA-Z]*);base64,([^\"]*)/.test(image)) {\n        img = resolveURL(image);\n      }\n      data = await readFromBlobOrFile(\n        await fixOrientationFromUrlOrBlobOrFile(img),\n      );\n    }\n  } else if (image instanceof HTMLElement) {\n    if (image.tagName === 'IMG') {\n      data = await loadImage(image.src);\n    }\n    if (image.tagName === 'VIDEO') {\n      data = await loadImage(image.poster);\n    }\n    if (image.tagName === 'CANVAS') {\n      await new Promise((resolve) => {\n        image.toBlob(async (blob) => {\n          data = await readFromBlobOrFile(blob);\n          resolve();\n        });\n      });\n    }\n  } else if (image instanceof File || image instanceof Blob) {\n    let img = image;\n    if (!image.name.endsWith('.pbm')) {\n      img = await fixOrientationFromUrlOrBlobOrFile(img);\n    }\n    data = await readFromBlobOrFile(img);\n  }\n\n  return new Uint8Array(data);\n};\n\nmodule.exports = loadImage;\n","/* global module, require */\n\nmodule.exports = require('./load-image');\nrequire('./load-image-scale');\nrequire('./load-image-meta');\nrequire('./load-image-fetch');\nrequire('./load-image-exif');\nrequire('./load-image-exif-map');\nrequire('./load-image-iptc');\nrequire('./load-image-iptc-map');\nrequire('./load-image-orientation');","/*\n * JavaScript Load Image Fetch\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2017, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'));\n  } else {\n    // Browser globals:\n    factory(window.loadImage);\n  }\n})(function (loadImage) {\n  'use strict';\n\n  if (typeof fetch !== 'undefined' && typeof Request !== 'undefined') {\n    loadImage.fetchBlob = function (url, callback, options) {\n      fetch(new Request(url, options)).then(function (response) {\n        return response.blob();\n      }).then(callback).catch(function (err) {\n        callback(null, err);\n      });\n    };\n  } else if (\n  // Check for XHR2 support:\n  typeof XMLHttpRequest !== 'undefined' && typeof ProgressEvent !== 'undefined') {\n    loadImage.fetchBlob = function (url, callback, options) {\n      // eslint-disable-next-line no-param-reassign\n      options = options || {};\n      var req = new XMLHttpRequest();\n      req.open(options.method || 'GET', url);\n      if (options.headers) {\n        Object.keys(options.headers).forEach(function (key) {\n          req.setRequestHeader(key, options.headers[key]);\n        });\n      }\n      req.withCredentials = options.credentials === 'include';\n      req.responseType = 'blob';\n      req.onload = function () {\n        callback(req.response);\n      };\n      req.onerror = req.onabort = req.ontimeout = function (err) {\n        callback(null, err);\n      };\n      req.send(options.body);\n    };\n  }\n});","/*\n * JavaScript Load Image Exif Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Exif tags mapping based on\n * https://github.com/jseidelin/exif-js\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-exif'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-exif'));\n  } else {\n    // Browser globals:\n    factory(window.loadImage);\n  }\n})(function (loadImage) {\n  'use strict';\n\n  var ExifMapProto = loadImage.ExifMap.prototype;\n  ExifMapProto.tags = {\n    // =================\n    // TIFF tags (IFD0):\n    // =================\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageHeight',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0112: 'Orientation',\n    0x0115: 'SamplesPerPixel',\n    0x011c: 'PlanarConfiguration',\n    0x0212: 'YCbCrSubSampling',\n    0x0213: 'YCbCrPositioning',\n    0x011a: 'XResolution',\n    0x011b: 'YResolution',\n    0x0128: 'ResolutionUnit',\n    0x0111: 'StripOffsets',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x012d: 'TransferFunction',\n    0x013e: 'WhitePoint',\n    0x013f: 'PrimaryChromaticities',\n    0x0211: 'YCbCrCoefficients',\n    0x0214: 'ReferenceBlackWhite',\n    0x0132: 'DateTime',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0131: 'Software',\n    0x013b: 'Artist',\n    0x8298: 'Copyright',\n    0x8769: {\n      // ExifIFDPointer\n      0x9000: 'ExifVersion',\n      // EXIF version\n      0xa000: 'FlashpixVersion',\n      // Flashpix format version\n      0xa001: 'ColorSpace',\n      // Color space information tag\n      0xa002: 'PixelXDimension',\n      // Valid width of meaningful image\n      0xa003: 'PixelYDimension',\n      // Valid height of meaningful image\n      0xa500: 'Gamma',\n      0x9101: 'ComponentsConfiguration',\n      // Information about channels\n      0x9102: 'CompressedBitsPerPixel',\n      // Compressed bits per pixel\n      0x927c: 'MakerNote',\n      // Any desired information written by the manufacturer\n      0x9286: 'UserComment',\n      // Comments by user\n      0xa004: 'RelatedSoundFile',\n      // Name of related sound file\n      0x9003: 'DateTimeOriginal',\n      // Date and time when the original image was generated\n      0x9004: 'DateTimeDigitized',\n      // Date and time when the image was stored digitally\n      0x9290: 'SubSecTime',\n      // Fractions of seconds for DateTime\n      0x9291: 'SubSecTimeOriginal',\n      // Fractions of seconds for DateTimeOriginal\n      0x9292: 'SubSecTimeDigitized',\n      // Fractions of seconds for DateTimeDigitized\n      0x829a: 'ExposureTime',\n      // Exposure time (in seconds)\n      0x829d: 'FNumber',\n      0x8822: 'ExposureProgram',\n      // Exposure program\n      0x8824: 'SpectralSensitivity',\n      // Spectral sensitivity\n      0x8827: 'PhotographicSensitivity',\n      // EXIF 2.3, ISOSpeedRatings in EXIF 2.2\n      0x8828: 'OECF',\n      // Optoelectric conversion factor\n      0x8830: 'SensitivityType',\n      0x8831: 'StandardOutputSensitivity',\n      0x8832: 'RecommendedExposureIndex',\n      0x8833: 'ISOSpeed',\n      0x8834: 'ISOSpeedLatitudeyyy',\n      0x8835: 'ISOSpeedLatitudezzz',\n      0x9201: 'ShutterSpeedValue',\n      // Shutter speed\n      0x9202: 'ApertureValue',\n      // Lens aperture\n      0x9203: 'BrightnessValue',\n      // Value of brightness\n      0x9204: 'ExposureBias',\n      // Exposure bias\n      0x9205: 'MaxApertureValue',\n      // Smallest F number of lens\n      0x9206: 'SubjectDistance',\n      // Distance to subject in meters\n      0x9207: 'MeteringMode',\n      // Metering mode\n      0x9208: 'LightSource',\n      // Kind of light source\n      0x9209: 'Flash',\n      // Flash status\n      0x9214: 'SubjectArea',\n      // Location and area of main subject\n      0x920a: 'FocalLength',\n      // Focal length of the lens in mm\n      0xa20b: 'FlashEnergy',\n      // Strobe energy in BCPS\n      0xa20c: 'SpatialFrequencyResponse',\n      0xa20e: 'FocalPlaneXResolution',\n      // Number of pixels in width direction per FPRUnit\n      0xa20f: 'FocalPlaneYResolution',\n      // Number of pixels in height direction per FPRUnit\n      0xa210: 'FocalPlaneResolutionUnit',\n      // Unit for measuring the focal plane resolution\n      0xa214: 'SubjectLocation',\n      // Location of subject in image\n      0xa215: 'ExposureIndex',\n      // Exposure index selected on camera\n      0xa217: 'SensingMethod',\n      // Image sensor type\n      0xa300: 'FileSource',\n      // Image source (3 == DSC)\n      0xa301: 'SceneType',\n      // Scene type (1 == directly photographed)\n      0xa302: 'CFAPattern',\n      // Color filter array geometric pattern\n      0xa401: 'CustomRendered',\n      // Special processing\n      0xa402: 'ExposureMode',\n      // Exposure mode\n      0xa403: 'WhiteBalance',\n      // 1 = auto white balance, 2 = manual\n      0xa404: 'DigitalZoomRatio',\n      // Digital zoom ratio\n      0xa405: 'FocalLengthIn35mmFilm',\n      0xa406: 'SceneCaptureType',\n      // Type of scene\n      0xa407: 'GainControl',\n      // Degree of overall image gain adjustment\n      0xa408: 'Contrast',\n      // Direction of contrast processing applied by camera\n      0xa409: 'Saturation',\n      // Direction of saturation processing applied by camera\n      0xa40a: 'Sharpness',\n      // Direction of sharpness processing applied by camera\n      0xa40b: 'DeviceSettingDescription',\n      0xa40c: 'SubjectDistanceRange',\n      // Distance to subject\n      0xa420: 'ImageUniqueID',\n      // Identifier assigned uniquely to each image\n      0xa430: 'CameraOwnerName',\n      0xa431: 'BodySerialNumber',\n      0xa432: 'LensSpecification',\n      0xa433: 'LensMake',\n      0xa434: 'LensModel',\n      0xa435: 'LensSerialNumber'\n    },\n    0x8825: {\n      // GPSInfoIFDPointer\n      0x0000: 'GPSVersionID',\n      0x0001: 'GPSLatitudeRef',\n      0x0002: 'GPSLatitude',\n      0x0003: 'GPSLongitudeRef',\n      0x0004: 'GPSLongitude',\n      0x0005: 'GPSAltitudeRef',\n      0x0006: 'GPSAltitude',\n      0x0007: 'GPSTimeStamp',\n      0x0008: 'GPSSatellites',\n      0x0009: 'GPSStatus',\n      0x000a: 'GPSMeasureMode',\n      0x000b: 'GPSDOP',\n      0x000c: 'GPSSpeedRef',\n      0x000d: 'GPSSpeed',\n      0x000e: 'GPSTrackRef',\n      0x000f: 'GPSTrack',\n      0x0010: 'GPSImgDirectionRef',\n      0x0011: 'GPSImgDirection',\n      0x0012: 'GPSMapDatum',\n      0x0013: 'GPSDestLatitudeRef',\n      0x0014: 'GPSDestLatitude',\n      0x0015: 'GPSDestLongitudeRef',\n      0x0016: 'GPSDestLongitude',\n      0x0017: 'GPSDestBearingRef',\n      0x0018: 'GPSDestBearing',\n      0x0019: 'GPSDestDistanceRef',\n      0x001a: 'GPSDestDistance',\n      0x001b: 'GPSProcessingMethod',\n      0x001c: 'GPSAreaInformation',\n      0x001d: 'GPSDateStamp',\n      0x001e: 'GPSDifferential',\n      0x001f: 'GPSHPositioningError'\n    },\n    0xa005: {\n      // InteroperabilityIFDPointer\n      0x0001: 'InteroperabilityIndex'\n    }\n  };\n  ExifMapProto.stringValues = {\n    ExposureProgram: {\n      0: 'Undefined',\n      1: 'Manual',\n      2: 'Normal program',\n      3: 'Aperture priority',\n      4: 'Shutter priority',\n      5: 'Creative program',\n      6: 'Action program',\n      7: 'Portrait mode',\n      8: 'Landscape mode'\n    },\n    MeteringMode: {\n      0: 'Unknown',\n      1: 'Average',\n      2: 'CenterWeightedAverage',\n      3: 'Spot',\n      4: 'MultiSpot',\n      5: 'Pattern',\n      6: 'Partial',\n      255: 'Other'\n    },\n    LightSource: {\n      0: 'Unknown',\n      1: 'Daylight',\n      2: 'Fluorescent',\n      3: 'Tungsten (incandescent light)',\n      4: 'Flash',\n      9: 'Fine weather',\n      10: 'Cloudy weather',\n      11: 'Shade',\n      12: 'Daylight fluorescent (D 5700 - 7100K)',\n      13: 'Day white fluorescent (N 4600 - 5400K)',\n      14: 'Cool white fluorescent (W 3900 - 4500K)',\n      15: 'White fluorescent (WW 3200 - 3700K)',\n      17: 'Standard light A',\n      18: 'Standard light B',\n      19: 'Standard light C',\n      20: 'D55',\n      21: 'D65',\n      22: 'D75',\n      23: 'D50',\n      24: 'ISO studio tungsten',\n      255: 'Other'\n    },\n    Flash: {\n      0x0000: 'Flash did not fire',\n      0x0001: 'Flash fired',\n      0x0005: 'Strobe return light not detected',\n      0x0007: 'Strobe return light detected',\n      0x0009: 'Flash fired, compulsory flash mode',\n      0x000d: 'Flash fired, compulsory flash mode, return light not detected',\n      0x000f: 'Flash fired, compulsory flash mode, return light detected',\n      0x0010: 'Flash did not fire, compulsory flash mode',\n      0x0018: 'Flash did not fire, auto mode',\n      0x0019: 'Flash fired, auto mode',\n      0x001d: 'Flash fired, auto mode, return light not detected',\n      0x001f: 'Flash fired, auto mode, return light detected',\n      0x0020: 'No flash function',\n      0x0041: 'Flash fired, red-eye reduction mode',\n      0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\n      0x0047: 'Flash fired, red-eye reduction mode, return light detected',\n      0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\n      0x004d: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\n      0x004f: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\n      0x0059: 'Flash fired, auto mode, red-eye reduction mode',\n      0x005d: 'Flash fired, auto mode, return light not detected, red-eye reduction mode',\n      0x005f: 'Flash fired, auto mode, return light detected, red-eye reduction mode'\n    },\n    SensingMethod: {\n      1: 'Undefined',\n      2: 'One-chip color area sensor',\n      3: 'Two-chip color area sensor',\n      4: 'Three-chip color area sensor',\n      5: 'Color sequential area sensor',\n      7: 'Trilinear sensor',\n      8: 'Color sequential linear sensor'\n    },\n    SceneCaptureType: {\n      0: 'Standard',\n      1: 'Landscape',\n      2: 'Portrait',\n      3: 'Night scene'\n    },\n    SceneType: {\n      1: 'Directly photographed'\n    },\n    CustomRendered: {\n      0: 'Normal process',\n      1: 'Custom process'\n    },\n    WhiteBalance: {\n      0: 'Auto white balance',\n      1: 'Manual white balance'\n    },\n    GainControl: {\n      0: 'None',\n      1: 'Low gain up',\n      2: 'High gain up',\n      3: 'Low gain down',\n      4: 'High gain down'\n    },\n    Contrast: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    Saturation: {\n      0: 'Normal',\n      1: 'Low saturation',\n      2: 'High saturation'\n    },\n    Sharpness: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    SubjectDistanceRange: {\n      0: 'Unknown',\n      1: 'Macro',\n      2: 'Close view',\n      3: 'Distant view'\n    },\n    FileSource: {\n      3: 'DSC'\n    },\n    ComponentsConfiguration: {\n      0: '',\n      1: 'Y',\n      2: 'Cb',\n      3: 'Cr',\n      4: 'R',\n      5: 'G',\n      6: 'B'\n    },\n    Orientation: {\n      1: 'top-left',\n      2: 'top-right',\n      3: 'bottom-right',\n      4: 'bottom-left',\n      5: 'left-top',\n      6: 'right-top',\n      7: 'right-bottom',\n      8: 'left-bottom'\n    }\n  };\n  ExifMapProto.getText = function (name) {\n    var value = this.get(name);\n    switch (name) {\n      case 'LightSource':\n      case 'Flash':\n      case 'MeteringMode':\n      case 'ExposureProgram':\n      case 'SensingMethod':\n      case 'SceneCaptureType':\n      case 'SceneType':\n      case 'CustomRendered':\n      case 'WhiteBalance':\n      case 'GainControl':\n      case 'Contrast':\n      case 'Saturation':\n      case 'Sharpness':\n      case 'SubjectDistanceRange':\n      case 'FileSource':\n      case 'Orientation':\n        return this.stringValues[name][value];\n      case 'ExifVersion':\n      case 'FlashpixVersion':\n        if (!value) return;\n        return String.fromCharCode(value[0], value[1], value[2], value[3]);\n      case 'ComponentsConfiguration':\n        if (!value) return;\n        return this.stringValues[name][value[0]] + this.stringValues[name][value[1]] + this.stringValues[name][value[2]] + this.stringValues[name][value[3]];\n      case 'GPSVersionID':\n        if (!value) return;\n        return value[0] + '.' + value[1] + '.' + value[2] + '.' + value[3];\n    }\n    return String(value);\n  };\n  ExifMapProto.getAll = function () {\n    var map = {};\n    var prop;\n    var obj;\n    var name;\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        obj = this[prop];\n        if (obj && obj.getAll) {\n          map[this.privateIFDs[prop].name] = obj.getAll();\n        } else {\n          name = this.tags[prop];\n          if (name) map[name] = this.getText(name);\n        }\n      }\n    }\n    return map;\n  };\n  ExifMapProto.getName = function (tagCode) {\n    var name = this.tags[tagCode];\n    if (typeof name === 'object') return this.privateIFDs[tagCode].name;\n    return name;\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;\n  (function () {\n    var tags = ExifMapProto.tags;\n    var prop;\n    var privateIFD;\n    var subTags;\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        privateIFD = ExifMapProto.privateIFDs[prop];\n        if (privateIFD) {\n          subTags = tags[prop];\n          for (prop in subTags) {\n            if (Object.prototype.hasOwnProperty.call(subTags, prop)) {\n              privateIFD.map[subTags[prop]] = Number(prop);\n            }\n          }\n        } else {\n          ExifMapProto.map[tags[prop]] = Number(prop);\n        }\n      }\n    }\n  })();\n});","/*\n * JavaScript Load Image IPTC Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n *\n * IPTC tags mapping based on\n * https://iptc.org/standards/photo-metadata\n * https://exiftool.org/TagNames/IPTC.html\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-iptc'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-iptc'));\n  } else {\n    // Browser globals:\n    factory(window.loadImage);\n  }\n})(function (loadImage) {\n  'use strict';\n\n  var IptcMapProto = loadImage.IptcMap.prototype;\n  IptcMapProto.tags = {\n    0: 'ApplicationRecordVersion',\n    3: 'ObjectTypeReference',\n    4: 'ObjectAttributeReference',\n    5: 'ObjectName',\n    7: 'EditStatus',\n    8: 'EditorialUpdate',\n    10: 'Urgency',\n    12: 'SubjectReference',\n    15: 'Category',\n    20: 'SupplementalCategories',\n    22: 'FixtureIdentifier',\n    25: 'Keywords',\n    26: 'ContentLocationCode',\n    27: 'ContentLocationName',\n    30: 'ReleaseDate',\n    35: 'ReleaseTime',\n    37: 'ExpirationDate',\n    38: 'ExpirationTime',\n    40: 'SpecialInstructions',\n    42: 'ActionAdvised',\n    45: 'ReferenceService',\n    47: 'ReferenceDate',\n    50: 'ReferenceNumber',\n    55: 'DateCreated',\n    60: 'TimeCreated',\n    62: 'DigitalCreationDate',\n    63: 'DigitalCreationTime',\n    65: 'OriginatingProgram',\n    70: 'ProgramVersion',\n    75: 'ObjectCycle',\n    80: 'Byline',\n    85: 'BylineTitle',\n    90: 'City',\n    92: 'Sublocation',\n    95: 'State',\n    100: 'CountryCode',\n    101: 'Country',\n    103: 'OriginalTransmissionReference',\n    105: 'Headline',\n    110: 'Credit',\n    115: 'Source',\n    116: 'CopyrightNotice',\n    118: 'Contact',\n    120: 'Caption',\n    121: 'LocalCaption',\n    122: 'Writer',\n    125: 'RasterizedCaption',\n    130: 'ImageType',\n    131: 'ImageOrientation',\n    135: 'LanguageIdentifier',\n    150: 'AudioType',\n    151: 'AudioSamplingRate',\n    152: 'AudioSamplingResolution',\n    153: 'AudioDuration',\n    154: 'AudioOutcue',\n    184: 'JobID',\n    185: 'MasterDocumentID',\n    186: 'ShortDocumentID',\n    187: 'UniqueDocumentID',\n    188: 'OwnerID',\n    200: 'ObjectPreviewFileFormat',\n    201: 'ObjectPreviewFileVersion',\n    202: 'ObjectPreviewData',\n    221: 'Prefs',\n    225: 'ClassifyState',\n    228: 'SimilarityIndex',\n    230: 'DocumentNotes',\n    231: 'DocumentHistory',\n    232: 'ExifCameraInfo',\n    255: 'CatalogSets'\n  };\n  IptcMapProto.stringValues = {\n    10: {\n      0: '0 (reserved)',\n      1: '1 (most urgent)',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5 (normal urgency)',\n      6: '6',\n      7: '7',\n      8: '8 (least urgent)',\n      9: '9 (user-defined priority)'\n    },\n    75: {\n      a: 'Morning',\n      b: 'Both Morning and Evening',\n      p: 'Evening'\n    },\n    131: {\n      L: 'Landscape',\n      P: 'Portrait',\n      S: 'Square'\n    }\n  };\n  IptcMapProto.getText = function (id) {\n    var value = this.get(id);\n    var tagCode = this.map[id];\n    var stringValue = this.stringValues[tagCode];\n    if (stringValue) return stringValue[value];\n    return String(value);\n  };\n  IptcMapProto.getAll = function () {\n    var map = {};\n    var prop;\n    var name;\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        name = this.tags[prop];\n        if (name) map[name] = this.getText(name);\n      }\n    }\n    return map;\n  };\n  IptcMapProto.getName = function (tagCode) {\n    return this.tags[tagCode];\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;\n  (function () {\n    var tags = IptcMapProto.tags;\n    var map = IptcMapProto.map || {};\n    var prop;\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        map[tags[prop]] = Number(prop);\n      }\n    }\n  })();\n});","/*\n * JavaScript Load Image Orientation\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;\n(function (factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-scale', './load-image-meta'], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-scale'), require('./load-image-meta'));\n  } else {\n    // Browser globals:\n    factory(window.loadImage);\n  }\n})(function (loadImage) {\n  'use strict';\n\n  var originalHasCanvasOption = loadImage.hasCanvasOption;\n  var originalHasMetaOption = loadImage.hasMetaOption;\n  var originalTransformCoordinates = loadImage.transformCoordinates;\n  var originalGetTransformedOptions = loadImage.getTransformedOptions;\n  (function () {\n    // black 2x1 JPEG, with the following meta information set:\n    // - EXIF Orientation: 6 (Rotated 90° CCW)\n    var testImageURL = 'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' + 'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' + 'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' + 'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' + 'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' + 'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==';\n    var img = document.createElement('img');\n    img.onload = function () {\n      // Check if browser supports automatic image orientation:\n      loadImage.orientation = img.width === 1 && img.height === 2;\n    };\n    img.src = testImageURL;\n  })();\n\n  // Determines if the target image should be a canvas element:\n  loadImage.hasCanvasOption = function (options) {\n    return !!options.orientation === true && !loadImage.orientation || options.orientation > 1 && options.orientation < 9 || originalHasCanvasOption.call(loadImage, options);\n  };\n\n  // Determines if meta data should be loaded automatically:\n  loadImage.hasMetaOption = function (options) {\n    return options && options.orientation === true && !loadImage.orientation || originalHasMetaOption.call(loadImage, options);\n  };\n\n  // Transform image orientation based on\n  // the given EXIF orientation option:\n  loadImage.transformCoordinates = function (canvas, options) {\n    originalTransformCoordinates.call(loadImage, canvas, options);\n    var ctx = canvas.getContext('2d');\n    var width = canvas.width;\n    var height = canvas.height;\n    var styleWidth = canvas.style.width;\n    var styleHeight = canvas.style.height;\n    var orientation = options.orientation;\n    if (!(orientation > 1 && orientation < 9)) {\n      return;\n    }\n    if (orientation > 4) {\n      canvas.width = height;\n      canvas.height = width;\n      canvas.style.width = styleHeight;\n      canvas.style.height = styleWidth;\n    }\n    switch (orientation) {\n      case 2:\n        // horizontal flip\n        ctx.translate(width, 0);\n        ctx.scale(-1, 1);\n        break;\n      case 3:\n        // 180° rotate left\n        ctx.translate(width, height);\n        ctx.rotate(Math.PI);\n        break;\n      case 4:\n        // vertical flip\n        ctx.translate(0, height);\n        ctx.scale(1, -1);\n        break;\n      case 5:\n        // vertical flip + 90 rotate right\n        ctx.rotate(0.5 * Math.PI);\n        ctx.scale(1, -1);\n        break;\n      case 6:\n        // 90° rotate right\n        ctx.rotate(0.5 * Math.PI);\n        ctx.translate(0, -height);\n        break;\n      case 7:\n        // horizontal flip + 90 rotate right\n        ctx.rotate(0.5 * Math.PI);\n        ctx.translate(width, -height);\n        ctx.scale(-1, 1);\n        break;\n      case 8:\n        // 90° rotate left\n        ctx.rotate(-0.5 * Math.PI);\n        ctx.translate(-width, 0);\n        break;\n    }\n  };\n\n  // Transforms coordinate and dimension options\n  // based on the given orientation option:\n  loadImage.getTransformedOptions = function (img, opts, data) {\n    var options = originalGetTransformedOptions.call(loadImage, img, opts);\n    var orientation = options.orientation;\n    var newOptions;\n    var i;\n    if (orientation === true) {\n      if (loadImage.orientation) {\n        // Browser supports automatic image orientation\n        return options;\n      }\n      orientation = data && data.exif && data.exif.get('Orientation');\n    }\n    if (!(orientation > 1 && orientation < 9)) {\n      return options;\n    }\n    newOptions = {};\n    for (i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i];\n      }\n    }\n    newOptions.orientation = orientation;\n    switch (orientation) {\n      case 2:\n        // horizontal flip\n        newOptions.left = options.right;\n        newOptions.right = options.left;\n        break;\n      case 3:\n        // 180° rotate left\n        newOptions.left = options.right;\n        newOptions.top = options.bottom;\n        newOptions.right = options.left;\n        newOptions.bottom = options.top;\n        break;\n      case 4:\n        // vertical flip\n        newOptions.top = options.bottom;\n        newOptions.bottom = options.top;\n        break;\n      case 5:\n        // vertical flip + 90 rotate right\n        newOptions.left = options.top;\n        newOptions.top = options.left;\n        newOptions.right = options.bottom;\n        newOptions.bottom = options.right;\n        break;\n      case 6:\n        // 90° rotate right\n        newOptions.left = options.top;\n        newOptions.top = options.right;\n        newOptions.right = options.bottom;\n        newOptions.bottom = options.left;\n        break;\n      case 7:\n        // horizontal flip + 90 rotate right\n        newOptions.left = options.bottom;\n        newOptions.top = options.right;\n        newOptions.right = options.top;\n        newOptions.bottom = options.left;\n        break;\n      case 8:\n        // 90° rotate left\n        newOptions.left = options.bottom;\n        newOptions.top = options.left;\n        newOptions.right = options.top;\n        newOptions.bottom = options.right;\n        break;\n    }\n    if (newOptions.orientation > 4) {\n      newOptions.maxWidth = options.maxHeight;\n      newOptions.maxHeight = options.maxWidth;\n      newOptions.minWidth = options.minHeight;\n      newOptions.minHeight = options.minWidth;\n      newOptions.sourceWidth = options.sourceHeight;\n      newOptions.sourceHeight = options.sourceWidth;\n    }\n    return newOptions;\n  };\n});","const createWorker = require('./createWorker');\n\nconst recognize = async (image, langs, options) => {\n  const worker = createWorker(options);\n  await worker.load();\n  await worker.loadLanguage(langs);\n  await worker.initialize(langs);\n  return worker.recognize(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nconst detect = async (image, options) => {\n  const worker = createWorker(options);\n  await worker.load();\n  await worker.loadLanguage('osd');\n  await worker.initialize('osd');\n  return worker.detect(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nmodule.exports = {\n  recognize,\n  detect,\n};\n","/*\n * languages with existing tesseract traineddata\n * https://tesseract-ocr.github.io/tessdoc/Data-Files#data-files-for-version-400-november-29-2016\n */\n\n/**\n * @typedef {object} Languages\n * @property {string} AFR Afrikaans\n * @property {string} AMH Amharic\n * @property {string} ARA Arabic\n * @property {string} ASM Assamese\n * @property {string} AZE Azerbaijani\n * @property {string} AZE_CYRL Azerbaijani - Cyrillic\n * @property {string} BEL Belarusian\n * @property {string} BEN Bengali\n * @property {string} BOD Tibetan\n * @property {string} BOS Bosnian\n * @property {string} BUL Bulgarian\n * @property {string} CAT Catalan; Valencian\n * @property {string} CEB Cebuano\n * @property {string} CES Czech\n * @property {string} CHI_SIM Chinese - Simplified\n * @property {string} CHI_TRA Chinese - Traditional\n * @property {string} CHR Cherokee\n * @property {string} CYM Welsh\n * @property {string} DAN Danish\n * @property {string} DEU German\n * @property {string} DZO Dzongkha\n * @property {string} ELL Greek, Modern (1453-)\n * @property {string} ENG English\n * @property {string} ENM English, Middle (1100-1500)\n * @property {string} EPO Esperanto\n * @property {string} EST Estonian\n * @property {string} EUS Basque\n * @property {string} FAS Persian\n * @property {string} FIN Finnish\n * @property {string} FRA French\n * @property {string} FRK German Fraktur\n * @property {string} FRM French, Middle (ca. 1400-1600)\n * @property {string} GLE Irish\n * @property {string} GLG Galician\n * @property {string} GRC Greek, Ancient (-1453)\n * @property {string} GUJ Gujarati\n * @property {string} HAT Haitian; Haitian Creole\n * @property {string} HEB Hebrew\n * @property {string} HIN Hindi\n * @property {string} HRV Croatian\n * @property {string} HUN Hungarian\n * @property {string} IKU Inuktitut\n * @property {string} IND Indonesian\n * @property {string} ISL Icelandic\n * @property {string} ITA Italian\n * @property {string} ITA_OLD Italian - Old\n * @property {string} JAV Javanese\n * @property {string} JPN Japanese\n * @property {string} KAN Kannada\n * @property {string} KAT Georgian\n * @property {string} KAT_OLD Georgian - Old\n * @property {string} KAZ Kazakh\n * @property {string} KHM Central Khmer\n * @property {string} KIR Kirghiz; Kyrgyz\n * @property {string} KOR Korean\n * @property {string} KUR Kurdish\n * @property {string} LAO Lao\n * @property {string} LAT Latin\n * @property {string} LAV Latvian\n * @property {string} LIT Lithuanian\n * @property {string} MAL Malayalam\n * @property {string} MAR Marathi\n * @property {string} MKD Macedonian\n * @property {string} MLT Maltese\n * @property {string} MSA Malay\n * @property {string} MYA Burmese\n * @property {string} NEP Nepali\n * @property {string} NLD Dutch; Flemish\n * @property {string} NOR Norwegian\n * @property {string} ORI Oriya\n * @property {string} PAN Panjabi; Punjabi\n * @property {string} POL Polish\n * @property {string} POR Portuguese\n * @property {string} PUS Pushto; Pashto\n * @property {string} RON Romanian; Moldavian; Moldovan\n * @property {string} RUS Russian\n * @property {string} SAN Sanskrit\n * @property {string} SIN Sinhala; Sinhalese\n * @property {string} SLK Slovak\n * @property {string} SLV Slovenian\n * @property {string} SPA Spanish; Castilian\n * @property {string} SPA_OLD Spanish; Castilian - Old\n * @property {string} SQI Albanian\n * @property {string} SRP Serbian\n * @property {string} SRP_LATN Serbian - Latin\n * @property {string} SWA Swahili\n * @property {string} SWE Swedish\n * @property {string} SYR Syriac\n * @property {string} TAM Tamil\n * @property {string} TEL Telugu\n * @property {string} TGK Tajik\n * @property {string} TGL Tagalog\n * @property {string} THA Thai\n * @property {string} TIR Tigrinya\n * @property {string} TUR Turkish\n * @property {string} UIG Uighur; Uyghur\n * @property {string} UKR Ukrainian\n * @property {string} URD Urdu\n * @property {string} UZB Uzbek\n * @property {string} UZB_CYRL Uzbek - Cyrillic\n * @property {string} VIE Vietnamese\n * @property {string} YID Yiddish\n */\n\n/**\n  * @type {Languages}\n  */\nmodule.exports = {\n  AFR: 'afr',\n  AMH: 'amh',\n  ARA: 'ara',\n  ASM: 'asm',\n  AZE: 'aze',\n  AZE_CYRL: 'aze_cyrl',\n  BEL: 'bel',\n  BEN: 'ben',\n  BOD: 'bod',\n  BOS: 'bos',\n  BUL: 'bul',\n  CAT: 'cat',\n  CEB: 'ceb',\n  CES: 'ces',\n  CHI_SIM: 'chi_sim',\n  CHI_TRA: 'chi_tra',\n  CHR: 'chr',\n  CYM: 'cym',\n  DAN: 'dan',\n  DEU: 'deu',\n  DZO: 'dzo',\n  ELL: 'ell',\n  ENG: 'eng',\n  ENM: 'enm',\n  EPO: 'epo',\n  EST: 'est',\n  EUS: 'eus',\n  FAS: 'fas',\n  FIN: 'fin',\n  FRA: 'fra',\n  FRK: 'frk',\n  FRM: 'frm',\n  GLE: 'gle',\n  GLG: 'glg',\n  GRC: 'grc',\n  GUJ: 'guj',\n  HAT: 'hat',\n  HEB: 'heb',\n  HIN: 'hin',\n  HRV: 'hrv',\n  HUN: 'hun',\n  IKU: 'iku',\n  IND: 'ind',\n  ISL: 'isl',\n  ITA: 'ita',\n  ITA_OLD: 'ita_old',\n  JAV: 'jav',\n  JPN: 'jpn',\n  KAN: 'kan',\n  KAT: 'kat',\n  KAT_OLD: 'kat_old',\n  KAZ: 'kaz',\n  KHM: 'khm',\n  KIR: 'kir',\n  KOR: 'kor',\n  KUR: 'kur',\n  LAO: 'lao',\n  LAT: 'lat',\n  LAV: 'lav',\n  LIT: 'lit',\n  MAL: 'mal',\n  MAR: 'mar',\n  MKD: 'mkd',\n  MLT: 'mlt',\n  MSA: 'msa',\n  MYA: 'mya',\n  NEP: 'nep',\n  NLD: 'nld',\n  NOR: 'nor',\n  ORI: 'ori',\n  PAN: 'pan',\n  POL: 'pol',\n  POR: 'por',\n  PUS: 'pus',\n  RON: 'ron',\n  RUS: 'rus',\n  SAN: 'san',\n  SIN: 'sin',\n  SLK: 'slk',\n  SLV: 'slv',\n  SPA: 'spa',\n  SPA_OLD: 'spa_old',\n  SQI: 'sqi',\n  SRP: 'srp',\n  SRP_LATN: 'srp_latn',\n  SWA: 'swa',\n  SWE: 'swe',\n  SYR: 'syr',\n  TAM: 'tam',\n  TEL: 'tel',\n  TGK: 'tgk',\n  TGL: 'tgl',\n  THA: 'tha',\n  TIR: 'tir',\n  TUR: 'tur',\n  UIG: 'uig',\n  UKR: 'ukr',\n  URD: 'urd',\n  UZB: 'uzb',\n  UZB_CYRL: 'uzb_cyrl',\n  VIE: 'vie',\n  YID: 'yid',\n};\n","/*\n * PSM = Page Segmentation Mode\n */\nmodule.exports = {\n  OSD_ONLY: '0',\n  AUTO_OSD: '1',\n  AUTO_ONLY: '2',\n  AUTO: '3',\n  SINGLE_COLUMN: '4',\n  SINGLE_BLOCK_VERT_TEXT: '5',\n  SINGLE_BLOCK: '6',\n  SINGLE_LINE: '7',\n  SINGLE_WORD: '8',\n  CIRCLE_WORD: '9',\n  SINGLE_CHAR: '10',\n  SPARSE_TEXT: '11',\n  SPARSE_TEXT_OSD: '12',\n};\n"],"sourceRoot":""}