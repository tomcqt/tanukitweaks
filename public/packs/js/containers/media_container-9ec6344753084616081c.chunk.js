(window.webpackJsonp=window.webpackJsonp||[]).push([[441],{1597:function(t,e,a){"use strict";a.r(e),a.d(e,"default",(function(){return j}));var o=a(0),n=a(2),s=a(56),i=a(3),l=a(151),d=a(452),r=a(417),c=a(358),u=a(107),m=a(257),h=a(359),p=a(61),g=a(77),b=a(357),O=a(4);const C={MediaGallery:d.default,Video:p.default,Card:m.a,Poll:c.a,Hashtag:l.a,Audio:u.default};class j extends n.PureComponent{constructor(){super(...arguments),this.state={media:null,index:null,lang:null,time:null,backgroundColor:null,options:null},this.handleOpenMedia=(t,e,a)=>{document.body.classList.add("with-modals--active"),document.documentElement.style.marginRight=`${Object(b.a)()}px`,this.setState({media:t,index:e,lang:a})},this.handleOpenVideo=(t,e)=>{const{components:a}=this.props,{media:o}=JSON.parse(a[e.componentIndex].getAttribute("data-props")),n=Object(i.fromJS)(o);document.body.classList.add("with-modals--active"),document.documentElement.style.marginRight=`${Object(b.a)()}px`,this.setState({media:n,lang:t,options:e})},this.handleCloseMedia=()=>{document.body.classList.remove("with-modals--active"),document.documentElement.style.marginRight="0",this.setState({media:null,index:null,time:null,backgroundColor:null,options:null})},this.setBackgroundColor=t=>{this.setState({backgroundColor:t})}}render(){var t,e,a;const{components:l}=this.props;let d;return window.self===window.top&&(d=this.handleOpenVideo),Object(o.a)(g.a,{},void 0,Object(O.jsxs)(O.Fragment,{children:[[].map.call(l,((t,e)=>{const a=t.getAttribute("data-component"),o=C[a],{media:l,card:r,poll:c,hashtag:u,...m}=JSON.parse(t.getAttribute("data-props"));return Object.assign(m,{...l?{media:Object(i.fromJS)(l)}:{},...r?{card:Object(i.fromJS)(r)}:{},...c?{poll:Object(i.fromJS)(c)}:{},...u?{hashtag:Object(i.fromJS)(u)}:{},..."Video"===a?{componentIndex:e,onOpenVideo:d}:{onOpenMedia:this.handleOpenMedia}}),Object(s.createPortal)(Object(n.createElement)(o,{...m,key:`media-${e}`}),t)})),Object(o.a)(r.a,{backgroundColor:this.state.backgroundColor,onClose:this.handleCloseMedia},void 0,this.state.media&&Object(o.a)(h.a,{media:this.state.media,index:this.state.index||0,lang:this.state.lang,currentTime:null==(t=this.state.options)?void 0:t.startTime,autoPlay:null==(e=this.state.options)?void 0:e.autoPlay,volume:null==(a=this.state.options)?void 0:a.defaultVolume,onClose:this.handleCloseMedia,onChangeBackgroundColor:this.setBackgroundColor}))]}))}}}}]);
//# sourceMappingURL=media_container-9ec6344753084616081c.chunk.js.map