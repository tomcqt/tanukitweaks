(window.webpackJsonp=window.webpackJsonp||[]).push([[471],{1172:function(e,t,s){"use strict";s.r(t);var i=s(0),o=s(1),l=s.n(o),a=s(2),n=s(7),c=s(20),d=s(39),r=s(82),p=s(11),h=s(245),m=s.n(h),b=s(137),u=s(24),g=s(19),j=s(243),O=s(21),v=s(149),f=s(240),y=s(15),M=s(150),_=s(1165),C=s(101),x=s(1156),k=s(4);const w=Object(n.d)({deleteMessage:{id:"confirmations.delete_list.message",defaultMessage:"Are you sure you want to permanently delete this list?"},deleteConfirm:{id:"confirmations.delete_list.confirm",defaultMessage:"Delete"},followed:{id:"lists.replies_policy.followed",defaultMessage:"Any followed user"},none:{id:"lists.replies_policy.none",defaultMessage:"No one"},list:{id:"lists.replies_policy.list",defaultMessage:"Members of the list"}});class I extends a.PureComponent{constructor(){super(...arguments),this.handlePin=()=>{const{columnId:e,dispatch:t}=this.props;e?t(Object(b.h)(e)):(t(Object(b.e)("LIST",{id:this.props.params.id})),this.context.router.history.push("/"))},this.handleMove=e=>{const{columnId:t,dispatch:s}=this.props;s(Object(b.g)(t,e))},this.handleHeaderClick=()=>{this.column.scrollTop()},this.setRef=e=>{this.column=e},this.handleLoadMore=e=>{const{id:t}=this.props.params;this.props.dispatch(Object(O.v)(t,{maxId:e}))},this.handleEditClick=()=>{this.props.dispatch(Object(g.b)({modalType:"LIST_EDITOR",modalProps:{listId:this.props.params.id}}))},this.handleDeleteClick=()=>{const{dispatch:e,columnId:t,intl:s}=this.props,{id:i}=this.props.params;e(Object(g.b)({modalType:"CONFIRM",modalProps:{message:s.formatMessage(w.deleteMessage),confirm:s.formatMessage(w.deleteConfirm),onConfirm:()=>{e(Object(u.F)(i)),t?e(Object(b.h)(t)):this.context.router.history.push("/lists")}}}))},this.handleRepliesPolicyChange=e=>{let{target:t}=e;const{dispatch:s}=this.props,{id:i}=this.props.params;s(Object(u.Q)(i,void 0,!1,void 0,t.value))},this.onExclusiveToggle=e=>{let{target:t}=e;const{dispatch:s}=this.props,{id:i}=this.props.params;s(Object(u.Q)(i,void 0,!1,t.checked,void 0))}}componentDidMount(){const{dispatch:e}=this.props,{id:t}=this.props.params;e(Object(u.G)(t)),e(Object(O.v)(t)),this.disconnect=e(Object(j.d)(t))}UNSAFE_componentWillReceiveProps(e){const{dispatch:t}=this.props,{id:s}=e.params;s!==this.props.params.id&&(this.disconnect&&(this.disconnect(),this.disconnect=null),t(Object(u.G)(s)),t(Object(O.v)(s)),this.disconnect=t(Object(j.d)(s)))}componentWillUnmount(){this.disconnect&&(this.disconnect(),this.disconnect=null)}render(){const{hasUnread:e,columnId:t,multiColumn:s,list:o,intl:l}=this.props,{id:a}=this.props.params,n=!!t,d=o?o.get("title"):a,p=o?o.get("replies_policy"):void 0,h=o?o.get("exclusive"):void 0;return void 0===o?Object(i.a)(v.a,{},void 0,Object(i.a)("div",{className:"scrollable"},void 0,Object(i.a)(M.a,{}))):!1===o?Object(i.a)(C.a,{multiColumn:s,errorType:"routing"}):Object(k.jsxs)(v.a,{bindToDocument:!s,ref:this.setRef,label:d,children:[Object(i.a)(f.a,{icon:"list-ul",active:e,title:d,onPin:this.handlePin,onMove:this.handleMove,onClick:this.handleHeaderClick,pinned:n,multiColumn:s},void 0,Object(i.a)("div",{className:"column-settings__row column-header__links"},void 0,Object(i.a)("button",{type:"button",className:"text-btn column-header__setting-btn",tabIndex:0,onClick:this.handleEditClick},void 0,Object(i.a)(y.a,{id:"pencil"})," ",Object(i.a)(c.a,{id:"lists.edit",defaultMessage:"Edit list"})),Object(i.a)("button",{type:"button",className:"text-btn column-header__setting-btn",tabIndex:0,onClick:this.handleDeleteClick},void 0,Object(i.a)(y.a,{id:"trash"})," ",Object(i.a)(c.a,{id:"lists.delete",defaultMessage:"Delete list"}))),Object(i.a)("div",{className:"setting-toggle"},void 0,Object(i.a)(m.a,{id:`list-${a}-exclusive`,checked:h,onChange:this.onExclusiveToggle}),Object(i.a)("label",{htmlFor:`list-${a}-exclusive`,className:"setting-toggle__label"},void 0,Object(i.a)(c.a,{id:"lists.exclusive",defaultMessage:"Hide these posts from home"}))),void 0!==p&&Object(i.a)("div",{role:"group","aria-labelledby":`list-${a}-replies-policy`},void 0,Object(i.a)("span",{id:`list-${a}-replies-policy`,className:"column-settings__section"},void 0,Object(i.a)(c.a,{id:"lists.replies_policy.title",defaultMessage:"Show replies to:"})),Object(i.a)("div",{className:"column-settings__row"},void 0,["none","list","followed"].map((e=>Object(i.a)(_.a,{name:"order",value:e,label:l.formatMessage(w[e]),checked:p===e,onChange:this.handleRepliesPolicyChange},e)))))),Object(i.a)(x.a,{trackScroll:!n,scrollKey:`list_timeline-${t}`,timelineId:`list:${a}`,onLoadMore:this.handleLoadMore,emptyMessage:Object(i.a)(c.a,{id:"empty_column.list",defaultMessage:"There is nothing in this list yet. When members of this list post new statuses, they will appear here."}),bindToDocument:!s}),Object(i.a)(r.a,{},void 0,Object(i.a)("title",{},void 0,d),Object(i.a)("meta",{name:"robots",content:"noindex"}))]})}}I.contextTypes={router:l.a.object},t.default=Object(p.connect)(((e,t)=>({list:e.getIn(["lists",t.params.id]),hasUnread:e.getIn(["timelines",`list:${t.params.id}`,"unread"])>0})))(Object(d.c)(I))}}]);
//# sourceMappingURL=list_timeline-7170721078b364afc7f5.chunk.js.map