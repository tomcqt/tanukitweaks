{"version":3,"sources":["webpack:///./app/javascript/mastodon/components/admin/Trends.jsx"],"names":["Trends","PureComponent","constructor","arguments","state","loading","data","componentDidMount","limit","this","props","api","get","params","then","res","setState","catch","err","console","error","render","content","_jsx","Array","from","map","_","i","Hashtag","hashtag","name","to","undefined","id","people","history","accounts","uses","reverse","day","className","classNames","requires_review","trendable","FormattedMessage","defaultMessage"],"mappings":"qMAUe,MAAMA,UAAeC,gBAAcC,cAAA,SAAAC,WAAA,KAMhDC,MAAQ,CACNC,SAAS,EACTC,KAAM,KACN,CAEFC,oBACE,MAAM,MAAEC,GAAUC,KAAKC,MAEvBC,cAAMC,IAAI,4BAA6B,CAAEC,OAAQ,CAAEL,WAAWM,MAAKC,IACjEN,KAAKO,SAAS,CACZX,SAAS,EACTC,KAAMS,EAAIT,MACV,IACDW,OAAMC,IACPC,QAAQC,MAAMF,EAAI,GAEtB,CAEAG,SACE,MAAM,MAAEb,GAAUC,KAAKC,OACjB,QAAEL,EAAO,KAAEC,GAASG,KAAKL,MAE/B,IAAIkB,EA4BJ,OAzBEA,EADEjB,EAEAkB,YAAA,gBACGC,MAAMC,KAAKD,MAAMhB,IAAQkB,KAAI,CAACC,EAAGC,IAChCL,YAACM,IAAO,GAAMD,MAMlBL,YAAA,gBACGjB,EAAKoB,KAAII,GACRP,YAACM,IAAO,CAENE,KAAMD,EAAQC,KACdC,QAAmBC,IAAfH,EAAQI,QAAmBD,EAAa,eAAcH,EAAQI,KAClEC,OAAsC,EAA9BL,EAAQM,QAAQ,GAAGC,SAA6C,EAA9BP,EAAQM,QAAQ,GAAGC,SAC7DC,KAAgC,EAA1BR,EAAQM,QAAQ,GAAGE,KAAqC,EAA1BR,EAAQM,QAAQ,GAAGE,KACvDF,QAASN,EAAQM,QAAQG,UAAUb,KAAIc,GAAOA,EAAIF,OAClDG,UAAWC,IAAWZ,EAAQa,iBAAmB,iCAAkCb,EAAQc,YAAcd,EAAQa,iBAAmB,2BAN/Hb,EAAQC,SAcrBR,YAAA,OAAKkB,UAAU,+BAAwB,EACrClB,YAAA,eAAIA,YAACsB,IAAgB,CAACX,GAAE,sBAAuBY,eAAe,kBAE7DxB,EAGP,E","file":"js/436-1854d18c6b3ecc83fe39.chunk.js","sourcesContent":["import PropTypes from 'prop-types';\nimport { PureComponent } from 'react';\n\nimport { FormattedMessage } from 'react-intl';\n\nimport classNames from 'classnames';\n\nimport api from 'mastodon/api';\nimport Hashtag from 'mastodon/components/hashtag';\n\nexport default class Trends extends PureComponent {\n\n  static propTypes = {\n    limit: PropTypes.number.isRequired,\n  };\n\n  state = {\n    loading: true,\n    data: null,\n  };\n\n  componentDidMount () {\n    const { limit } = this.props;\n\n    api().get('/api/v1/admin/trends/tags', { params: { limit } }).then(res => {\n      this.setState({\n        loading: false,\n        data: res.data,\n      });\n    }).catch(err => {\n      console.error(err);\n    });\n  }\n\n  render () {\n    const { limit } = this.props;\n    const { loading, data } = this.state;\n\n    let content;\n\n    if (loading) {\n      content = (\n        <div>\n          {Array.from(Array(limit)).map((_, i) => (\n            <Hashtag key={i} />\n          ))}\n        </div>\n      );\n    } else {\n      content = (\n        <div>\n          {data.map(hashtag => (\n            <Hashtag\n              key={hashtag.name}\n              name={hashtag.name}\n              to={hashtag.id === undefined ? undefined : `/admin/tags/${hashtag.id}`}\n              people={hashtag.history[0].accounts * 1 + hashtag.history[1].accounts * 1}\n              uses={hashtag.history[0].uses * 1 + hashtag.history[1].uses * 1}\n              history={hashtag.history.reverse().map(day => day.uses)}\n              className={classNames(hashtag.requires_review && 'trends__item--requires-review', !hashtag.trendable && !hashtag.requires_review && 'trends__item--disabled')}\n            />\n          ))}\n        </div>\n      );\n    }\n\n    return (\n      <div className='trends trends--compact'>\n        <h4><FormattedMessage id='trends.trending_now' defaultMessage='Trending now' /></h4>\n\n        {content}\n      </div>\n    );\n  }\n\n}\n"],"sourceRoot":""}