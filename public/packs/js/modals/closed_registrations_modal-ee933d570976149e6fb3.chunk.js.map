{"version":3,"sources":["webpack:///./app/javascript/mastodon/features/closed_registrations_modal/index.jsx"],"names":["ClosedRegistrationsModal","ImmutablePureComponent","componentDidMount","dispatch","this","props","fetchServer","render","closedRegistrationsMessage","message","_jsx","className","dangerouslySetInnerHTML","__html","FormattedMessage","id","defaultMessage","values","domain","href","connect","state","getIn"],"mappings":"sJAYA,MAAMA,UAAiCC,IAErCC,oBACE,MAAM,SAAEC,GAAaC,KAAKC,MAC1BF,EAASG,cACX,CAEAC,SACE,IAAIC,EAqBJ,OAlBEA,EADEJ,KAAKC,MAAMI,QAEXC,YAAA,KACEC,UAAU,QACVC,wBAAyB,CAAEC,OAAQT,KAAKC,MAAMI,WAKhDC,YAAA,KAAGC,UAAU,cAAO,EAClBD,YAACI,IAAgB,CACfC,GAAE,yCACFC,eAAe,+JACfC,OAAQ,CAAEC,OAAQR,YAAA,mBAASQ,SAOjCR,YAAA,OAAKC,UAAU,4CAAqC,EAClDD,YAAA,OAAKC,UAAU,gCAAyB,EACtCD,YAAA,eAAIA,YAACI,IAAgB,CAACC,GAAE,mCAAoCC,eAAe,4BAC3EN,YAAA,cACEA,YAACI,IAAgB,CACfC,GAAE,sCACFC,eAAe,4KAKrBN,YAAA,OAAKC,UAAU,mCAA4B,EACzCD,YAAA,OAAKC,UAAU,2CAAoC,EACjDD,YAAA,eAAIA,YAACI,IAAgB,CAACC,GAAE,mCAAoCC,eAAe,oBAC1ER,GAGHE,YAAA,OAAKC,UAAU,2CAAoC,EACjDD,YAAA,eAAIA,YAACI,IAAgB,CAACC,GAAE,sCAAuCC,eAAe,2BAC9EN,YAAA,KAAGC,UAAU,cAAO,EAClBD,YAACI,IAAgB,CACfC,GAAE,iDACFC,eAAe,oHAGnBN,YAAA,KAAGS,KAAK,mCAAmCR,UAAU,6BAAsB,EAACD,YAACI,IAAgB,CAACC,GAAE,iDAAkDC,eAAe,2BAK3K,EAIaI,6BApESC,IAAK,CAC3BZ,QAASY,EAAMC,MAAM,CAAC,SAAU,SAAU,gBAAiB,eAmE9CF,CAAyBpB,E","file":"js/modals/closed_registrations_modal-ee933d570976149e6fb3.chunk.js","sourcesContent":["import { FormattedMessage } from 'react-intl';\n\nimport ImmutablePureComponent from 'react-immutable-pure-component';\nimport { connect } from 'react-redux';\n\nimport { fetchServer } from 'mastodon/actions/server';\nimport { domain } from 'mastodon/initial_state';\n\nconst mapStateToProps = state => ({\n  message: state.getIn(['server', 'server', 'registrations', 'message']),\n});\n\nclass ClosedRegistrationsModal extends ImmutablePureComponent {\n\n  componentDidMount () {\n    const { dispatch } = this.props;\n    dispatch(fetchServer());\n  }\n\n  render () {\n    let closedRegistrationsMessage;\n\n    if (this.props.message) {\n      closedRegistrationsMessage = (\n        <p\n          className='prose'\n          dangerouslySetInnerHTML={{ __html: this.props.message }}\n        />\n      );\n    } else {\n      closedRegistrationsMessage = (\n        <p className='prose'>\n          <FormattedMessage\n            id='closed_registrations_modal.description'\n            defaultMessage='Creating an account on {domain} is currently not possible, but please keep in mind that you do not need an account specifically on {domain} to use Mastodon.'\n            values={{ domain: <strong>{domain}</strong> }}\n          />\n        </p>\n      );\n    }\n\n    return (\n      <div className='modal-root__modal interaction-modal'>\n        <div className='interaction-modal__lead'>\n          <h3><FormattedMessage id='closed_registrations_modal.title' defaultMessage='Signing up on Mastodon' /></h3>\n          <p>\n            <FormattedMessage\n              id='closed_registrations_modal.preamble'\n              defaultMessage='Mastodon is decentralized, so no matter where you create your account, you will be able to follow and interact with anyone on this server. You can even self-host it!'\n            />\n          </p>\n        </div>\n\n        <div className='interaction-modal__choices'>\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_this_server' defaultMessage='On this server' /></h3>\n            {closedRegistrationsMessage}\n          </div>\n\n          <div className='interaction-modal__choices__choice'>\n            <h3><FormattedMessage id='interaction_modal.on_another_server' defaultMessage='On a different server' /></h3>\n            <p className='prose'>\n              <FormattedMessage\n                id='closed_registrations.other_server_instructions'\n                defaultMessage='Since Mastodon is decentralized, you can create an account on another server and still interact with this one.'\n              />\n            </p>\n            <a href='https://joinmastodon.org/servers' className='button button--block'><FormattedMessage id='closed_registrations_modal.find_another_server' defaultMessage='Find another server' /></a>\n          </div>\n        </div>\n      </div>\n    );\n  }\n\n}\n\nexport default connect(mapStateToProps)(ClosedRegistrationsModal);\n"],"sourceRoot":""}